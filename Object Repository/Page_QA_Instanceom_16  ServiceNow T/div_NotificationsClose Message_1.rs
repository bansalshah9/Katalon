<?xml version="1.0" encoding="UTF-8"?>
<WebElementEntity>
   <description></description>
   <name>div_NotificationsClose Message_1</name>
   <tag></tag>
   <elementGuidId>249a6d3c-7c79-406c-8da5-7bd546b9e434</elementGuidId>
   <selectorMethod>BASIC</selectorMethod>
   <useRalativeImagePath>false</useRalativeImagePath>
   <webElementProperties>
      <isSelected>true</isSelected>
      <matchCondition>equals</matchCondition>
      <name>tag</name>
      <type>Main</type>
      <value>div</value>
   </webElementProperties>
   <webElementProperties>
      <isSelected>true</isSelected>
      <matchCondition>equals</matchCondition>
      <name>id</name>
      <type>Main</type>
      <value>sales_opportunity.form_scroll</value>
   </webElementProperties>
   <webElementProperties>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>class</name>
      <type>Main</type>
      <value>section_header_content_no_scroll touch_scroll  </value>
   </webElementProperties>
   <webElementProperties>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>data-position-below-header</name>
      <type>Main</type>
      <value>true</value>
   </webElementProperties>
   <webElementProperties>
      <isSelected>true</isSelected>
      <matchCondition>equals</matchCondition>
      <name>text</name>
      <type>Main</type>
      <value>NotificationsClose Messages&quot;Error MessageThe following mandatory fields are not filled in: Primary Competitor, Incumbent, Competitive StatusaddRenderEvent(function() {CustomEvent.fire('glide_optics_inspect_update_watchfield', '');});Manage Attachments ():...addLoadEvent(function() {

				if (typeof AttachmentUploader !== &quot;undefined&quot;) {
					AttachmentUploader.addDropZone(document.body, &quot;2044&quot;,
					&quot;false&quot;, &quot;true&quot;, &quot;true&quot;, &quot;&quot;);
				}
			});Account is delinquent - contact accounts receivable before proceeding(For US, Canada and Mexico -accountsreceivable@servicenow.com; EMEA, APJ and Brazil -accountsreceivableBV@servicenow.com)NumberNameAccountA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowForecast Stage-- None --0 - Lead (0%)1 - Opportunity (1%)2 - Discovery (5%)3 - Business Issue (10%)4 - Present Solution (20%)4 - Power Sponsorship (30%)5 - Power Validation (40%)6 - Validation Completed (70%)7 - Deal Imminent (90%)8 - Closed Won (100%)8 - Closed Lost (100%)8 - Closed No Decision (0%)9 - Administration of Duplicate, Merge or ErrorForecast Category-- None --LeadOmittedPipelineUpsideExpectCommitSubmittedClosedInactiveLostOpportunity Type-- None --Order ResetNew BusinessRenewalLicense UpsellServicesTrainingPoVSplit AdjusterContract Type-- None --Order Form OnlyMOAReseller AgreementExpressOEMApp StoreApp Store TPPLMSInternet2GSAOrder Form Status-- None --Pre-NegotiationIn NegotiationQuote sent to CustomerOrder Form ApprovedOrder Form sent to CustomerSigned Awaiting POSigned Complete sent to SOPSSigned Complete sent to OMOM - Pending signatureOM - Pending infoFinalClose dateSelect DateOrder Term Start DateSelect DateTerm(12 Months)Term NewOrder Term End DateSelect DateData centerNot Yet DecidedAsiaAustraliaEuropeFedRAMPFISMANorth AmericaSelf HostedSouth AmericaSwitzerland--More--Base currencyAUDBRLCADCHFDKKEURGBPJPYMXNNZDUSDvar select = gel('sys_select.sales_opportunity.u_base_currency');
				setSelectValue(select, 'sales_opportunity.u_base_currency');function updateChoiceList_u_base_currency(control, oldValue, newValue, loading) {
		  if (loading)
		      return;
		
		  var ac = new AJAXReferenceChoice(gel('sys_select.sales_opportunity.u_base_currency'), 'sales_opportunity.u_base_currency', '', 'not_important');
		  ac.ajaxRequest();
	  }
	  var h = new GlideEventHandler('updateChoiceList_u_base_currency', updateChoiceList_u_base_currency, 'sales_opportunity.account');
		  g_event_handlers.push(h);View - Opens reference record in current windowNet new ACV$(USD)USD Net new ACV$Business Unit (for lump sum forecast)-- None --ITOMITSMvar select = gel('sys_select.sales_opportunity.u_business_unit_for_lump_sum_forecast');
				setSelectValue(select, 'sales_opportunity.u_business_unit_for_lump_sum_forecast');function updateChoiceList_u_business_unit_for_lump_sum_forecast(control, oldValue, newValue, loading) {
		  if (loading)
		      return;
		
		  var ac = new AJAXReferenceChoice(gel('sys_select.sales_opportunity.u_business_unit_for_lump_sum_forecast'), 'sales_opportunity.u_business_unit_for_lump_sum_forecast', '', 'not_important');
		  ac.ajaxRequest();
	  }View - Opens reference record in current windowForecast lump sum NNACV$(USD)Conversion-- None --Express to EnterpriseReason Code-- None --Opportunity IssueLine Item IssuePartner IssueQuoting IssueProduct IssueSAP Sync IssueAccount IssueOtherGross ACVForecast Type-- None --DirectMSP Sell To - DiscreteMSP Sell To - Non DiscreteOtherForecast Type OverrideField SalesView - Opens reference record in current windowField TerritoryA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowMSP SalesView - Opens reference record in current windowMSP TerritoryA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowEnd CustomerA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowMSP PartnerA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowPS TerritoryA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowParentA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowOpportunity Link Reason-- None --Account ConsolidationBuilt-in UpsellContract ConsolidationLicense TransferOrder ResetContract Currency ConversionSplit CommissionPS Change OrderOpportunity Source-- None --ADRFieldPartnerApp StoreLMSSales AlertsInside SalesIncumbent-- None --AMDOCS ClarifyBMC NumaraCA Unicenter; BMCHP ServiceCenter, OtherManageEnginesNoneOther - HADSalesforceTelia with Genesys PureEngageVMWare InfrastructureAxiosBMCBMC MagicBMC Numara FootprintsBMC Numara TrackITBMC RemedyBMC RemedyForceBMC Remedy OnDemandC2 EnterpriseCACA NimsoftCA UnicenterChangeGearCherwellCiresonConnectwiseDell KaceEasyVistaEmailExcelFreshServiceFrontRangeFrontrange HeatFrontrange ITSMHelp Star ServiceProHomegrownHornbillHPHP ServiceAnywhereHP ServiceCenterHP ServiceDeskHP ServiceManagerIBMIBM Maximo/TivoliOSTicket.comJiraLANDeskNumaraSymantecLANDesk TouchpaperManageEngineMarvalMatrix 42Microsoft SCSMNo Previous SolutionOtherOTRSSalesforce.comSalesForce Desk.comSamanageSerenaService-now.comSharepointSolarWinds Web Help DeskSymantec AltirisSysAidVMWare InfraZenDeskPrimary CompetitorA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowSecondary CompetitorA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowOther CompetitorCompetitive StatusChoose OneNoneAhead of CompetitionEven with CompetitionBehind CompetitionWeighted percentageADR Interaction-- None --DrivenDriven AssistedAssistedField OnlyPrice BookA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowOpportunity Link Reason FlagEdit Opportunity Link Reason FlagRemove selected itemView selected itemAdd/Remove multipleLockaddUnloadEvent(function() {
			var element = gel(&quot;sys_display.sales_opportunity.u_opportunity_link_reason_flag&quot;);
			if (element &amp;&amp; element.ac) {
				if (element.ac.destroy) 
					element.ac.destroy();
				}
		});Lookup using listaddRenderEvent(function () {
						glideListInit('select_0sales_opportunity.u_opportunity_link_reason_flag', 'sales_opportunity.u_opportunity_link_reason_flag', 'sys_choice');
			})Renewal DetailsUSD Renewal ACV$USD Constant FX Renewal ACV$Renewal ACV$(USD)Renewal category-- None --Straight RenewalRenewal with UpsellRenewal with DownsellRenewal Status-- None --At Risk RenewalExpect To Lose RenewalEarly Renewal – Credit/ReplaceEarly Renewal – No CreditExtensionOverdue RenewalNoneAuto-RenewStop Renewal NotificationSales OperationsflagsEdit flagsRemove selected itemView selected itemAdd/Remove multipleLockaddUnloadEvent(function() {
			var element = gel(&quot;sys_display.sales_opportunity.flags&quot;);
			if (element &amp;&amp; element.ac) {
				if (element.ac.destroy) 
					element.ac.destroy();
				}
		});Lookup using listaddRenderEvent(function () {
						glideListInit('select_0sales_opportunity.flags', 'sales_opportunity.flags', 'sys_choice');
			})Use Line ItemsSales order numberMaster QuoteView - Opens reference record in current windowMaster QuoteAdd mefunction openMe(reference) {
			var quoteId = g_form.getValue(reference);
			var ga = new GlideAjax('x_snc_salescrm.CPQQuoteUtilAjax').setScope(&quot;x_snc_salescrm&quot;);
			ga.addParam('sysparm_name','viewQuote');
			ga.addParam('surfQuoteId',quoteId);
			ga.getXML(viewQuote);
		}
		function viewQuote(response) {
		   var quoteURL = response.responseXML.documentElement.getAttribute(&quot;answer&quot;);
			if(quoteURL != &quot;&quot;){ // Success
				g_navigation.openPopup(quoteURL,'_parent');

			}else{
				g_form.addErrorMessage('Unable to view the Quote');
			}
		}View - Opens reference record in current windowMeeting Display FlagFinal Order Form OutputNot ApplicableSURFMs-ExcelOrder Form Output ReasonSAP Contract IDSAP Contract ID Req Status-- None --SAP Contract ID OverrideNot RequestedSuccessErrorManual OverrideSAP Manual OverrideContract Signed DateSelect DateAR NotesaddLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('sales_opportunity.u_ar_notes');
			}
		);if (window.TextAreaElement) {
								addRenderEvent(function() {
								if (typeof g_form != &quot;undefined&quot;) {
									if(!g_form.elementHandlers['sales_opportunity.u_ar_notes']) {
										g_form.registerHandler('sales_opportunity.u_ar_notes', new TextAreaElement('sales_opportunity.u_ar_notes'));
									}
								}
								});
							}var tiny_html_editor = true;Commission Exception-- None --Commissionable NNACV ExceptionMSP Commission ExceptionSplit Commission ExceptionTerm Months and DaysMeeting NumberA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowBusiness Unit ListEdit Business Unit ListEducation ServicesPlatform - OtherRemove selected itemView selected itemAdd/Remove multipleLockaddUnloadEvent(function() {
			var element = gel(&quot;sys_display.sales_opportunity.u_business_unit_list&quot;);
			if (element &amp;&amp; element.ac) {
				if (element.ac.destroy) 
					element.ac.destroy();
				}
		});Lookup using listEducation Services, Platform - OtheraddRenderEvent(function () {
						glideListInit('select_0sales_opportunity.u_business_unit_list', 'sales_opportunity.u_business_unit_list', 'u_product_business_unit');
			})AppStore Runtime LicenseA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowPartneredSourcedAgreementView - Opens reference record in current window*Notes*Contract Information*Service Partners*Sales Team*Financials*Constant FX Rate Financials*Price Banding*Split Commission*FirstRainNotesNext StepsaddLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('sales_opportunity.u_next_steps_journaled');
			}
		);Sales Operations NotesaddLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('sales_opportunity.u_sales_operations_notes');
			}
		);Notes addLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('sales_opportunity.u_notes');
			}
		);if (window.TextAreaElement) {
								addRenderEvent(function() {
								if (typeof g_form != &quot;undefined&quot;) {
									if(!g_form.elementHandlers['sales_opportunity.u_notes']) {
										g_form.registerHandler('sales_opportunity.u_notes', new TextAreaElement('sales_opportunity.u_notes'));
									}
								}
								});
							}var tiny_html_editor = true;Competitive NotesaddLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('sales_opportunity.u_competitive_notes');
			}
		);if (window.TextAreaElement) {
								addRenderEvent(function() {
								if (typeof g_form != &quot;undefined&quot;) {
									if(!g_form.elementHandlers['sales_opportunity.u_competitive_notes']) {
										g_form.registerHandler('sales_opportunity.u_competitive_notes', new TextAreaElement('sales_opportunity.u_competitive_notes'));
									}
								}
								});
							}var tiny_html_editor = true;Competitive ReasonA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowWin / Loss / No Decision NotesaddLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('sales_opportunity.u_win_loss_dead_notes');
			}
		);if (window.TextAreaElement) {
								addRenderEvent(function() {
								if (typeof g_form != &quot;undefined&quot;) {
									if(!g_form.elementHandlers['sales_opportunity.u_win_loss_dead_notes']) {
										g_form.registerHandler('sales_opportunity.u_win_loss_dead_notes', new TextAreaElement('sales_opportunity.u_win_loss_dead_notes'));
									}
								}
								});
							}var tiny_html_editor = true;Auditing NotesaddLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('sales_opportunity.u_auditing_notes');
			}
		);if (window.TextAreaElement) {
								addRenderEvent(function() {
								if (typeof g_form != &quot;undefined&quot;) {
									if(!g_form.elementHandlers['sales_opportunity.u_auditing_notes']) {
										g_form.registerHandler('sales_opportunity.u_auditing_notes', new TextAreaElement('sales_opportunity.u_auditing_notes'));
									}
								}
								});
							}var tiny_html_editor = true;Product Specialist NotesaddLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('sales_opportunity.u_product_specialist_notes');
			}
		);Contract InformationAgreementView - Opens reference record in current windowAgreement End DateContractA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowContract End DateCredit Card OrderOption Self-Hosted w/o Sig. penaltyTermination for Convenience-- None --Any TimeAt Year 2At Year 3After Year 3Payment ScheduleAnnualLess Than AnnualUpfrontTotal ACV$(USD)Total value$(USD)Service PartnersServices/Sales Partner InformationCatalyst ProgramCatalyst SolutionA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowPS Vendor TBDPS VendorA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowDeployment Registration NumberPS TeamingA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowSupport PartnerA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowProduct Technology PartnerA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowSales TeamSolution ConsultantView - Opens reference record in current windowOverlay ADRView - Opens reference record in current windowEducation ISRView - Opens reference record in current windowServices ExecutiveA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowDouble Compensation OverlayView - Opens reference record in current windowCreated byCreated DateSelect DateFirst Closed ByA new record with this value will be created automaticallyLookup using listView - Opens reference record in current windowFirst Closed On1 week agoSelect date and timeSelect date and timeEnterprise New LogoEnterprise Logo Override-- None --New LogoNot New LogoNew Logo ExceptionNot New Logo ExceptionExpress New LogoExpress Logo Override-- None --Express New LogoExpress Not New LogoNew Logo ExceptionNot New Logo ExceptionFinancialsUSD Total Subscription ACV$USD Total License Value$USD Total PS Revenue$USD Total Training Revenue$USD Total Other Revenue$USD Total Services Revenue$USD Total Net New ACV$USD Total Weighted ACV$AppStore Transaction IDSAP Vendor IDTotal Subscription ACV$(USD)Total License Value$(USD)Total PS Revenue$(USD)Total Training Revenue$(USD)Total Other Revenue$(USD)Total Services Revenue$(USD)Total Net New ACV$(USD)Closed at exchange rateClose monthClose quarterConstant FX Rate FinancialsUSD Constant FX Total Subscription ACV$USD Constant FX Total License Value$USD Constant FX Total PS Revenue$USD Constant FX Total Training Revenue$USD Constant FX Total Other Revenue$USD Constant FX Total Services Revenue$USD Constant FX Total Net New ACV$USD Constant FX Total Weighted ACV$Constant FX RateConstant FX Rate Effective YearPrice BandingClick here to view Approval Matrix Master QuoteView - Opens reference record in current windowPrice BandView - Opens reference record in current windowUSD Total Annual List Price$HighLowLevel 1: Sales RepLevel 2: Sales ManagerLevel 3: Sales DirectorLevel 4: Sales Area VPLevel 5: Sales Major Area VPLevel 6: Sales Geo VPSplit Commission
		// GlideList2 initialization	
	    var f = function() {
			// register the handlers at most once per page
			if (typeof(g_listHandlersLoaded) == 'undefined') {
				g_listHandlersLoaded = true;
				new GlideList2NewHandler();
				new GlideList2ChecksHandler();
				new GlideList2SecurityHandler();

				addLoadEvent(function() {
					CustomEvent.observe(&quot;toggle.sections&quot;, GlideList2.toggleAll);
				});
			}
			
			// create the GlideList2 object for this list
			var list = new GlideList2('37cb5f41db601f04cd687deaae9619a6', 'u_sales_commission', '');
			
			
			
			list.setListName('sales_opportunity.u_sales_commission.u_master_opportunity');
			list.setFields('u_number,u_opp_owner,u_percentage_split,u_net_new_acv,u_split_opty_link,u_is_primary_opportunity');
			list.setTitle('Split Commission');
			list.setListControlID('359004a64f368a00e07d49cf0310c72d');
			list.setProperties('H4sIAAAAAAAAAKVVXW/bMAz8K4Le19pxasdA3WJru71sTdFuA/YkyBKdCJUtQ5KT+d+P/mjWtN7moW+JyOOdyKN8fvmz1GQH1ilTZTQ8CSiBShipqk1Gv339+G5FLy/OPyvn76ypwXoFjgjnWMVLyCiUOUgJkpJC843LaJysoiRK0vGA+b3Bsiv8a0TjmKmYhcKC22bU2wYo0ViaCc0dgj9pJaHjWjydm8pbo5mSGY3O0iBY8nhZRPGKBwEEiVymogiiMBDJQo4QkMoz39YozvEdsL3yW1YYW47xvlQi8rNiGco8DsIiWAoZrxIJnEMahymPx1RjJdi8zej6/vrm/sOP65uHq4a5WiODqX3LtKoex9yBMVx8oWTojOMa8L51baxvKuXbE4T2Z8KUpXJdw/Go5M6DfZ5HSc0tVIPStIiSRRydyTwVYS6CMFxGhUxGpavokOx5rqdYKbGguQesNZt/RLBCge5xk0lmz1QlkTujOK6R/zUHhpTvQg9d38jVywBzaLVGczuRcXHeSyDKda4BvKjAQgXXrjMOz0Fn9LZBC1pK3BYFdQN5MpbndgO+H/20rh3XTS+5GkqcTtONNh3Y1nVN1vvq34SudaxxXd6BBtvHTI/9A9Pxxe7ACuwu3wDpG3PEOKbOv2N9qDYYeJ6GW/DkFvbk/dX3t9FXmFbBnnGxm8c8eGH923Hkc79sbxHxcnNnCVGO3FlVcttODP6/JSBTPVQ72iZUgnuM7waumRsfEGG0BuFV/2TiQuIPt1X1odgsUL/FGmaDHqF9pnZi7/+OP2Bfv0Oz1eJAjuSeHn98Ln4BWoztB7MGAAA=');
			// pass order by, since it can come from sources other than the query string
            list.setOrderBy('ORDERBYDESCu_split_opty_link');
            
			// save the data that we will need to refresh the list
			list.setView('');
			list.setSubmitValue('sysparm_list_css', 'embedded');
			list.setSubmitValue('sysparm_target', '');
            list.setSubmitValue('sysparm_fixed_query', '');
            list.setSubmitValue('sysparm_group_sort', '');
            // if rows per page is specified, carry it along
            if ('')
               list.setSubmitValue('sysparm_rows_per_page', '');
               
            if ('')
               list.setSubmitValue('sysparm_nameofstack', '');
               
            if ('')
               list.setSubmitValue('sysparm_transaction_scope', '');
               
            if ('')
               list.setSubmitValue('sysparm_record_scope', '');
               
            if ('')
            	list.setSubmitValue('sysparm_query_no_domain', '');

			list.setReferringURL(&quot;sales_opportunity.do?sys_id=9f372635db9c1bc01143fd7aae961983@99@sysparm_record_rows=1@99@sysparm_view=legal_view@99@sysparm_record_target=sales_opportunity@99@sysparm_record_list=number%3DOPTY0751693%5EORDERBYnumber@99@sysparm_record_row=1&quot;);// save the data needed for submitting actions for related lists
				list.setRelated('sales_opportunity', 'u_sales_commission.u_master_opportunity');
				list.setSubmitValue('sysparm_collection', 'sales_opportunity');
				list.setSubmitValue('sysparm_collectionID', '9f372635db9c1bc01143fd7aae961983');
				list.setSubmitValue('sysparm_collection_key', 'u_master_opportunity');
				list.setSubmitValue('sysparm_collection_related_file', '');
				list.setSubmitValue('sysparm_collection_related_field', '');
				list.setSubmitValue('sysparm_collection_relationship', '');
				list.setSubmitValue('sysparm_collection_label', 'Split Commission');
				list.setSubmitValue('sys_is_related_list', 'true');
				var domain = gel('sysparm_domain');
				if (domain)
					list.setSubmitValue('sysparm_domain', gel('sysparm_domain').value);
				var domainScope = gel('sysparm_domain_scope');
				if (domainScope)
					list.setSubmitValue('sysparm_domain_scope', domainScope.value);
				list.setEmbedded(true);list = null;
		  };
		  
		  // hierarchical list patch - all lists have to be loaded before the context menus can be built
		  // this is wokring by trick, not design -- code pre 25 dec 2011 had a similar trick 
		  // better design would be to create the context menus after all the hiererchical lists are loaded
		  if (typeof GlideList2 == &quot;undefined&quot;)
		  	addLoadEvent(f);
		  else 
		    f.call();Split Commission (1)Show ListSplit Commission First pagePrevious pageShowing rows 1 to 1 of 1
					to
					1
					of
					1Next pageLast page0Split CommissionSplit Commission
                  
            addLoadEvent(function() {new GlideWidgetVCR('73cb5f41db601f04cd687deaae9619a7', '37cb5f41db601f04cd687deaae9619a6')})Hide List// setting 
			function setListTableWrap() {
				if (window.NOW.listTableWrap) 
					$j('HTML').removeClass('list-nowrap-whitespace');
				else
					$j('HTML').addClass('list-nowrap-whitespace');
			}
			
			setListTableWrap();
			CustomEvent.observe('table_wrap', function (trueFalse) {
				window.NOW.listTableWrap = trueFalse; 
				setListTableWrap();
			});Edit table data inlinePersonalize ListActionsNumberSortOpp OwnerSortPercentage SplitSortNet New ACVSortSplit Opportunity LinkSortis Primary OwnerSortPreviewSCM2412449Ismail Ahmed100trueInsert a new row... Insert a new row... Bottom of tableTD.list_decoration {
			white-space: nowrap;
		}
		
		 SPAN.list_decoration_pad {
			padding-left: 1px;
		}addLoadEvent(function() {new GlideWidgetHideOnEmpty('447d72cddba85344a3aaff9aae9619a1', '37cb5f41db601f04cd687deaae9619a6')})var list = GlideList2.get('37cb5f41db601f04cd687deaae9619a6');
			list.headerMenu.clear();list.headerMenu.add('41a60a53471331004695d7527c9a7164','41a60a53471331004695d7527c9a7164','d1ad2f010a0a0b3e005c8b7fbd7c4e28','Export Set','action','','500','','false');
    list.headerMenu.add('4777ca1a0a0a0b285aea03289279ca97','4777ca1a0a0a0b285aea03289279ca97','','','line','','1017','','false');
    list.headerMenu.add('5402b80e9fa322005cf3ffa4677fcf10','5402b80e9fa322005cf3ffa4677fcf10','d1ad2f010a0a0b3e005c8b7fbd7c4e28','JSON','action','','350','','false');
    list.headerMenu.add('731a31e7bf460100e628555b3f073957','731a31e7bf460100e628555b3f073957','','','line','','1300','','false');
    list.headerMenu.add('a2c38e980a0a0b3000d5190f4752094c','a2c38e980a0a0b3000d5190f4752094c','','Configure','menu','','1040','','false');
    list.headerMenu.add('ab7f76d70ad33702005f177f6d3a7145','ab7f76d70ad33702005f177f6d3a7145','','Sort (a to z)','action','','1000','','false');
    list.headerMenu.add('ab8369ac0ad337020058ada2a743863a','ab8369ac0ad337020058ada2a743863a','','Sort (z to a)','action','','1010','','false');
    list.headerMenu.add('ab845d300ad33702008cbf08895d727b','ab845d300ad33702008cbf08895d727b','','','line','','1030','','false');
    list.headerMenu.add('ad5756ac0ad3370200d3a60e6710d759','ad5756ac0ad3370200d3a60e6710d759','','','line','','1060','','false');
    list.headerMenu.add('b0b807c087702100deddb882a2e3ece0','b0b807c087702100deddb882a2e3ece0','','Create Application Files','action','','1115','','false');
    list.headerMenu.add('c144403f0a0a0b3e007ef0a823e424a7','c144403f0a0a0b3e007ef0a823e424a7','a2c38e980a0a0b3000d5190f4752094c','','line','','40','','false');
    list.headerMenu.add('c144b37c0a0a0b3e00949d7e31182a94','c144b37c0a0a0b3e00949d7e31182a94','a2c38e980a0a0b3000d5190f4752094c','List Layout','action','','10','','false');
    list.headerMenu.add('c229daa70a0a0b3e00bfd5294a92cb0e','c229daa70a0a0b3e00bfd5294a92cb0e','a2c38e980a0a0b3000d5190f4752094c','List Calculations','action','','20','','false');
    list.headerMenu.add('c28441330a0a0b3e009ac756d9348c5a','c28441330a0a0b3e009ac756d9348c5a','a2c38e980a0a0b3000d5190f4752094c','List Control','action','','30','','false');
    list.headerMenu.add('c8c2eae10a0004e30084537138ba00ed','c8c2eae10a0004e30084537138ba00ed','','Expand/Collapse All','action','','500','','true');
    list.headerMenu.add('d1cd92f20a0a0b3e00b44ff90470380e','d1cd92f20a0a0b3e00b44ff90470380e','d1ad2f010a0a0b3e005c8b7fbd7c4e28','CSV','action','','200','','false');
    list.headerMenu.add('d1ceb4790a0a0b3e0086e9a19b8d9657','d1ceb4790a0a0b3e0086e9a19b8d9657','d1ad2f010a0a0b3e005c8b7fbd7c4e28','XML','action','','300','','false');
    list.headerMenu.add('d1e5d8a50a0a0b3e00459c252c81e649','d1e5d8a50a0a0b3e00459c252c81e649','d1ad2f010a0a0b3e005c8b7fbd7c4e28','PDF','menu','','400','','false');
    list.headerMenu.add('d1e68f410a0a0b3e002c9785414de051','d1e68f410a0a0b3e002c9785414de051','d1e5d8a50a0a0b3e00459c252c81e649','Portrait','action','','100','','false');
    list.headerMenu.add('d1e7d68b0a0a0b3e002f4618e3755d86','d1e7d68b0a0a0b3e002f4618e3755d86','d1e5d8a50a0a0b3e00459c252c81e649','Landscape','action','','200','','false');
    list.headerMenu.add('d1e8971a0a0a0b3e00c9e1fc881affd3','d1e8971a0a0a0b3e00c9e1fc881affd3','d1e5d8a50a0a0b3e00459c252c81e649','Detailed Portrait','action','','300','','false');
    list.headerMenu.add('d1e93cc80a0a0b3e007e913c2485c9e1','d1e93cc80a0a0b3e007e913c2485c9e1','d1e5d8a50a0a0b3e00459c252c81e649','Detailed Landscape','action','','400','','false');
    list.headerMenu.add('f13f0041473012003db6d7527c9a71f0','f13f0041473012003db6d7527c9a71f0','d1ad2f010a0a0b3e005c8b7fbd7c4e28','Excel (.xlsx)','action','','100','','false');
    list.headerMenu.add('f55d57090a0a0b3e00ca9bf67d92fc0e','f55d57090a0a0b3e00ca9bf67d92fc0e','','','line','','1190','','false');
    list.headerMenu.add('1895ef3407201000e8735720e1021eda','data_policies','a2c38e980a0a0b3000d5190f4752094c','Data Policies','action','showDataPolicies(\'model_table=u_sales_commission\');','110','','false');
    list.headerMenu.add('330107128f01200072a89cfde0f923c4','ui_actions','a2c38e980a0a0b3000d5190f4752094c','Notifications','action','showUIActions(\'collection=u_sales_commission\');','125','','false');
    list.headerMenu.add('3f629b670a0a0bd501d3310795df264a','personalize_all','a2c38e980a0a0b3000d5190f4752094c','All','action','personalizeAll(\'u_sales_commission\', \'Split Commissions\');','50','','false');
    list.headerMenu.add('463d0a00ff220000dadad1cb127f9dc3','security_rules','a2c38e980a0a0b3000d5190f4752094c','Security Rules','action','showSecurityRules(\'u_sales_commission\');','70','','false');
    list.headerMenu.add('96b2f2ebd71231008d7dc23c5e61031f','workflows','a2c38e980a0a0b3000d5190f4752094c','Workflows','action','showWorkflows(\'table=u_sales_commission^template=false\');','85','','false');
    list.headerMenu.add('a3a9bf900a0a0b300030941abc7b2697','business_rules','a2c38e980a0a0b3000d5190f4752094c','Business Rules','action','showBusinessRules(\'collection=u_sales_commission\');','80','','false');
    list.headerMenu.add('c114e6d10a0a0b3e0032ce8cea45faff','client_scripts','a2c38e980a0a0b3000d5190f4752094c','Client Scripts','action','showClientScripts(\'table=u_sales_commission\');','90','','false');
    list.headerMenu.add('c11e69b40a0a0b3e00bd78e48646fb7f','ui_policies','a2c38e980a0a0b3000d5190f4752094c','UI Policies','action','showUIPolicies(\'table=u_sales_commission\');','100','','false');
    list.headerMenu.add('c120f2730a0a0b3e00a2cca96313f847','ui_actions','a2c38e980a0a0b3000d5190f4752094c','UI Actions','action','showUIActions(\'table=u_sales_commission\');','120','','false');
    list.headerMenu.add('c1228d760a0a0b3e00046e56dbd30d49','dictionary','a2c38e980a0a0b3000d5190f4752094c','Dictionary','action','showDictionary(\'name=u_sales_commission\');','130','','false');
    list.headerMenu.add('e4ce64f0c3303000bac1addbdfba8f42','dictionary','a2c38e980a0a0b3000d5190f4752094c','Table','action','showTable(\'u_sales_commission\');','60','','false');
    g_list_edit_enable_property = 'true';
			g_list_edit_enable = true;
			g_list_edit_double = true;
			g_list_edit_ignore_types = &quot;html,document_id,conditions,template_value,glide_time,currency,price,user_image,video,field_list,domain_number,domain_path,glide_list,glide_action_list,currency2&quot;;
			g_list_edit_version_2 = &quot;true&quot;;
			g_list_edit_grid = &quot;false&quot;;addLoadEvent(function() {addUnloadEvent(GlideList2.unload);});
addLoadEvent(function() { GlideList2.get('37cb5f41db601f04cd687deaae9619a6').loaded(); });

        
          if(true == false)
              if(true == false)
                  if(true == true)
                      $j(window).on('load resize', function() {
                          $j('.navbar .list_nav_top').css({position: 'fixed', top: 0});
                      }).resize();(function() {
			if (typeof openRL != 'function') {
				openRL = function openRL() {
					return true;
				};
			}
		})();(function() {
 var messages = new GwtMessage();
messages.set('{0} ({1})');
messages.set('({0} of {1})');
messages.set('%d ago');
messages.set('%d from now');
messages.set('just now');
messages.set('less than a minute');
messages.set('about a minute','%dm');
messages.set('%d minutes','%dm');
messages.set('about an hour');
messages.set('about %d hours','%dh');
messages.set('a day');
messages.set('%d days','%dd');
messages.set('about a month');
messages.set('%d months','%dmo');
messages.set('about a year');
messages.set('about a year');
messages.set('%d years','%dy');
messages.set('(empty)');
})()addRenderEvent(function() {
			editListRegisterOnSubmit('37cb5f41db601f04cd687deaae9619a6');
		});FirstRainbody {width: 100%;height: 100%;}g_afterPageLoadedFunctions.push(function() {
					var accountName = &quot;&quot;;
					var accountNumber = &quot;&quot;;
					var optyNum = &quot;&quot;;
					var windowURL = window.location.href;
					var wForm = &quot;&quot;;
					var iURL= &quot;&quot;;
					
					if(windowURL.indexOf(&quot;/sales_account.do&quot;) > -1) {
							iURL= g_scratchpad.accountURL;
					} else if (windowURL.indexOf(&quot;/sales_opportunity.do&quot;) > -1) {
						iURL = g_scratchpad.opptyURL;
					}
			
					iURL = decodeURIComponent(iURL);
					document.getElementById('FRain').src = iURL;
				
				})SaveNew PrompterDeletevar ajaxHelper;
var objSysId;
var tblName;
var dlg;
var returnUrl;
var fromRelList;
var module;
var listQuery;
var stackName = null;
var gotoUrl = null;

function confirmAndDeleteFromForm() {   
    objSysId = g_form.getUniqueValue();
    tblName = g_form.getTableName();
    fromRelList = g_form.getParameter('sysparm_from_related_list');
    module = g_form.getParameter('sysparm_userpref_module');
    listQuery = g_form.getParameter('sysparm_record_list');
    stackName = g_form.getParameter('sysparm_nameofstack');
	gotoUrl = g_form.getParameter('sysparm_goto_url');

    ajaxHelper = new GlideAjax('DeleteRecordAjax');
    ajaxHelper.addParam('sysparm_name', 'getCascadeDeleteTables');
    ajaxHelper.addParam('sysparm_obj_id', objSysId);
    ajaxHelper.addParam('sysparm_table_name', tblName);
    ajaxHelper.addParam('sysparm_nameofstack', stackName);
    ajaxHelper.setWantSessionMessages(false);
	if (gotoUrl &amp;&amp; gotoUrl != &quot;&quot;)
		ajaxHelper.addParam('sysparm_goto_url', setRedirectFields(gotoUrl));
	
    ajaxHelper.getXMLAnswer(getCascadeDelTablesDoneForm.bind(this), null, null); 
}

function getCascadeDelTablesDoneForm(answer, s) {
    
    var ansrArray = answer.split(';');
    returnUrl = ansrArray[0];
    var objList = ansrArray[2];
	var dialogClass = window.GlideModal ? GlideModal : GlideDialogWindow;
    dlg = new dialogClass('delete_confirm_form');
    dlg.setTitle(new GwtMessage().getMessage('Confirmation'));
    if(objList == null) {
       dlg.setWidth(275);
    } else {
       dlg.setWidth(450);
    }
    dlg.setPreference('sysparm_obj_id', objSysId);
    dlg.setPreference('sysparm_table_name', tblName);
    dlg.setPreference('sysparm_delobj_list', objList);  
    dlg.setPreference('sysparm_parent_form', this);
    dlg.render();
    
}

function deleteCompleted() {
    dlg.destroy();
    var w = getTopWindow();
    cbField = w.document.getElementById('glide_dialog_form_target_' + tblName);
    if(cbField != null) {
        // this is a dialog form, make sure the completion callback is called
        cbField.value = 'sysverb_delete:' + objSysId;
        cbField.onchange();
        
       // dismiss the dialog form
       var elem = window.parent.document.getElementById('body_FormDialog');
       if (elem)
           new GlideWindow().locate(elem).destroy();
    } else {
        // this is a regular form, use the return URL to back to the correct view, where possible
        if (returnUrl != 'null') {
            window.location.href = returnUrl;
        } else {           
            // this is just the default case, in case everything else blows up, should never happen!
            window.location.href = window.location.protocol + '//' + window.location.host + '/' + tblName + '_list.do?sysparm_userpref_module=' + module + '&amp;sysparm_query=' + listQuery + '&amp;sysparm_cancelable=true';
        }        
    }	   
}

// this logic is similar to that in RedirectTransaction.setRedirectURL
function setRedirectFields(gotoURL) {
	if (gotoURL.indexOf('$sys_id') > -1)
		gotoURL = gotoURL.replace(/\$sys_id/g, g_form.getUniqueValue());
	
	if (gotoURL.indexOf('$action') > -1)
		gotoURL = gotoURL.replace(/\$action/g, 'sysverb_delete');
	
	if (gotoURL.indexOf('$display_value') > -1)
		gotoURL = gotoURL.replace(/\$display_value/g, g_form.getDisplayValue());
	
	return gotoURL;
}

Related LinksContact Influence Mapvar g_scratchpad = JSON.parse('{\&quot;Currency_Code\&quot;:\&quot;USD\&quot;,\&quot;Currency_Symbol\&quot;:\&quot;$(USD)\&quot;,\&quot;FTPSflagId\&quot;:\&quot;2172ac3a13ace680a5e739fed144b02e\&quot;,\&quot;account_id\&quot;:\&quot;ACCT0120954\&quot;,\&quot;accountcountry\&quot;:\&quot;US - United States\&quot;,\&quot;comp_isAppliedType\&quot;:true,\&quot;comp_isOther\&quot;:false,\&quot;country\&quot;:\&quot;US\&quot;,\&quot;cpq_master_quote\&quot;:\&quot;4bdd2e7ddb9c1bc01143fd7aae96190e\&quot;,\&quot;excludedCurrencies\&quot;:\&quot;a1717d600a0a0b5400b2ce9d09357ae7,a1717e850a0a0b540066be524ced8bdc,a1717ea50a0a0b5400efbdd2ba8fafd0,a171801e0a0a0b540006453552d5c230,a1768af80a0a0b540090878889a05704,HKD,INR,KRW,MYR,NOK,PLN,SEK,SGD,THB,TRY,ZAR\&quot;,\&quot;flagPrecision\&quot;:true,\&quot;forecastType\&quot;:\&quot;0\&quot;,\&quot;hasFTPSRecord\&quot;:\&quot;0\&quot;,\&quot;hasFirstRainAccess\&quot;:false,\&quot;isADRMember\&quot;:false,\&quot;isMemberST\&quot;:false,\&quot;lineWithDifferentEndDates\&quot;:\&quot;\&quot;,\&quot;master_quote\&quot;:\&quot;\&quot;,\&quot;master_quote_status\&quot;:\&quot;Approved\&quot;,\&quot;opptyURL\&quot;:\&quot;\&quot;,\&quot;ownerID\&quot;:\&quot;4a514250db0bb2807c91ffd51d9619e9\&quot;,\&quot;paymentStatus\&quot;:\&quot;Not Delinquent\&quot;,\&quot;productSysId\&quot;:\&quot;1b3a9cac60b2850006ff177ed89cae77\&quot;,\&quot;quote_processing_allowed\&quot;:\&quot;No Constraint\&quot;,\&quot;sap_contract_id_req_status\&quot;:null,\&quot;specialDataCenter\&quot;:[{\&quot;name\&quot;:\&quot;Brazil\&quot;,\&quot;sequence\&quot;:\&quot;3\&quot;,\&quot;value\&quot;:\&quot;Brazil\&quot;},{\&quot;name\&quot;:\&quot;Canada\&quot;,\&quot;sequence\&quot;:\&quot;4\&quot;,\&quot;value\&quot;:\&quot;Canada\&quot;},{\&quot;name\&quot;:\&quot;EMEA\&quot;,\&quot;sequence\&quot;:\&quot;5\&quot;,\&quot;value\&quot;:\&quot;EMEA\&quot;},{\&quot;name\&quot;:\&quot;London\&quot;,\&quot;sequence\&quot;:\&quot;10\&quot;,\&quot;value\&quot;:\&quot;London\&quot;},{\&quot;name\&quot;:\&quot;Netherlands\&quot;,\&quot;sequence\&quot;:\&quot;11\&quot;,\&quot;value\&quot;:\&quot;Netherlands\&quot;},{\&quot;name\&quot;:\&quot;United States\&quot;,\&quot;sequence\&quot;:\&quot;17\&quot;,\&quot;value\&quot;:\&quot;US\&quot;}],\&quot;totalLineCount\&quot;:\&quot;4\&quot;,\&quot;totalQuoteCount\&quot;:\&quot;0\&quot;,\&quot;u_order_term_start_date\&quot;:\&quot;2018-02-14\&quot;,\&quot;u_precision_term\&quot;:\&quot;12\&quot;,\&quot;u_term_months_and_days\&quot;:\&quot;12 Months\&quot;}');addRenderEvent(function() {
					g_form.addSecurityReadOnlyFields('sales_opportunity.number,sales_opportunity.u_net_new_acv_d,sales_opportunity.u_usd_net_new_acv,sales_opportunity.owner,sales_opportunity.u_msp_sales,sales_opportunity.u_weighted_percentage,sales_opportunity.u_usd_renewal_acv,sales_opportunity.u_renewal_acv_const,sales_opportunity.u_renewal_acv_d,sales_opportunity.u_master_quote,sales_opportunity.x_snc_salescrm_cpq_quote,sales_opportunity.x_snc_salescrm_agreement,sales_opportunity.x_snc_salescrm_agreement,sales_opportunity.x_snc_salescrm_agreement.end_date,sales_opportunity.u_contract_end_date,sales_opportunity.u_total_acv_a,sales_opportunity.u_total_value_a,sales_opportunity.u_solution_consultant,sales_opportunity.u_overlay_isr,sales_opportunity.u_education_isr,sales_opportunity.double_compensation_overlay,sales_opportunity.sys_created_by,sales_opportunity.u_new_logo,sales_opportunity.u_express_new_logo,sales_opportunity.u_ssa_rollup_acv_usd_a,sales_opportunity.u_ssa_rollup_license_val_usd_a,sales_opportunity.u_ssa_rollup_serv_rev_usd_a,sales_opportunity.u_ssa_rollup_train_rev_usd_a,sales_opportunity.u_ssa_rollup_other_rev_usd_a,sales_opportunity.u_ssa_rollup_ttl_serv_usd_a,sales_opportunity.u_ssa_rollup_netnewacv_usd_a,sales_opportunity.u_ssa_rollup_netnewacv_w_usd_a,sales_opportunity.u_ssa_rollup_acv_amount,sales_opportunity.u_ssa_rollup_license_amount,sales_opportunity.u_ssa_rollup_serv_amount,sales_opportunity.u_ssa_rollup_train_amount,sales_opportunity.u_ssa_rollup_other_amount,sales_opportunity.u_ssa_rollup_ttl_serv_amount,sales_opportunity.u_ssa_rollup_netnewacv_a,sales_opportunity.u_closed_at_exchange_rate,sales_opportunity.u_close_month,sales_opportunity.u_sales_quarter,sales_opportunity.u_ssa_rollup_acv_usd_const,sales_opportunity.u_ssa_rollup_license_val_usd_const,sales_opportunity.u_ssa_rollup_serv_rev_usd_const,sales_opportunity.u_ssa_rollup_train_rev_usd_const,sales_opportunity.u_ssa_rollup_other_rev_usd_const,sales_opportunity.u_ssa_rollup_ttl_serv_usd_const,sales_opportunity.u_ssa_rollup_netnewacv_usd_const,sales_opportunity.u_ssa_rollup_netnewacv_w_usd_const,sales_opportunity.u_constant_fx_rate,sales_opportunity.u_constant_fiscal_year,sales_opportunity.u_master_quote,sales_opportunity.price_band,sales_opportunity.u_usd_total_annual_list_price,sales_opportunity.price_band.u_high,sales_opportunity.price_band.u_low,sales_opportunity.price_band.u_level_1,sales_opportunity.price_band.u_level_2,sales_opportunity.price_band.u_level_3,sales_opportunity.price_band.u_level_4,sales_opportunity.price_band.u_level_5,sales_opportunity.price_band.u_level_6,');
				});

				// update CSRF token for form
				CustomEvent.observe(&quot;ck_updated&quot;, function(ck) {
					$j('input[name=sysparm_ck]').val(ck);
				});if (!window['g_form'])
 window.g_form = new GlideForm('sales_opportunity',true,true,true,true);

 g_form.setScope('global');

addTopRenderEvent( function() { 
var thisForm = gel('sales_opportunity.do');
g_form.addAttribute('contextual_security');
addOnSubmitEvent(thisForm, default_on_submit);
});

 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_base_currency', 'reference',false, 'fx_currency',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_train_amount', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_order_form_output_reason', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_first_closed_by', 'reference',false, 'sys_user',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_acv_amount', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_primary_competitor', 'reference',false, 'u_competition',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_contract_status', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_train_rev_usd_a', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'double_compensation_overlay', 'reference',false, 'u_employee',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'type', 'string',true, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_business_unit_for_lump_sum_forecast', 'reference',false, 'u_product_business_unit',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_competitive_reason', 'reference',false, 'u_reason',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'number', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_contract_duration', 'integer',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_business_unit_list', 'glide_list',false, 'u_product_business_unit',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_option_self_hosted_w_o_sig_penalty', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_meeting_display_flag', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_gsi_product', 'reference',false, 'u_gsi_product_offering',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_acv_usd_a', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_ttl_serv_usd_a', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_sales_operations_notes', 'journal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'sys_created_by', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_final_order_form_output', 'choice',true, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_win_loss_dead_notes', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_gsi_product_offering', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ps_engagement_manager', 'reference',false, 'sys_user',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_logo_override', 'choice',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_other_rev_usd_a', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_serv_amount', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_sap_manual_override', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_license_val_usd_a', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_start_date', 'glide_date',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_ttl_serv_amount', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'price_band.u_level_5', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'price_band.u_level_4', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_msp_territory', 'reference',false, 'u_sales_territory',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'price_band.u_level_6', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'price_band.u_level_1', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_credit_card_transaction_id', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'price_band.u_level_3', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_implementation_partner', 'reference',false, 'sales_account',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'price_band.u_level_2', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_weighted_percentage', 'integer',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_meeting_id', 'reference',false, 'sales_activity',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_train_rev_usd_const', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_usd_net_new_acv', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'flags', 'glide_list',false, 'sys_choice',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_netnewacv_usd_a', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_other_amount', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_netnewacv_usd_const', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'pipeline_status', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_other_rev_usd_const', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_msp', 'reference',false, 'sales_account',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_sap_vendor_id', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_stop_renewal_notification', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_total_value_a', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_support_partner', 'reference',false, 'sales_account',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_serv_rev_usd_const', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_deployment_registration_number', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_order_term_start_date', 'glide_date',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_net_new_acv_d', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_tbd', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_renewal_acv_const', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'stage', 'string',true, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_use_line_items', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_sales_quarter', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_netnewacv_w_usd_const', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_netnewacv_w_usd_a', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_territory', 'reference',true, 'u_sales_territory',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_competitive_notes', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_usd_total_annual_list_price', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_new_logo', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'close_date', 'glide_date',true, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_incumbent', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_contract_end_date', 'glide_date',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_isr_interaction', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_education_isr', 'reference',false, 'sys_user',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ps_teaming', 'reference',false, 'sales_account',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_forecast_lump_sum_nnacv', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_order_term_end_date', 'glide_date',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_acv_usd_const', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_payment_schedule', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_first_closed_on', 'glide_date_time',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_sourced', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_forecast_type', 'choice',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_renewal_acv_d', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ar_notes', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_termination_for_convenience', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_forecast_type_override', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_term_months_and_days', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_secondary_competitor', 'reference',false, 'u_competition',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_express_logo_override', 'choice',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'x_snc_salescrm_agreement.end_date', 'glide_date',false, 'null',null, 'x_snc_salescrm');
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_reason_code', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_opportunity_link_reason_flag', 'glide_list',false, 'sys_choice',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_close_month', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_runtime_licenses_opportunity', 'reference',false, 'sales_opportunity',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_partnered', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_netnewacv_a', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_msp_sales', 'reference',false, 'sys_user',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_other_competitor', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_express_new_logo', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_license_val_usd_const', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_ttl_serv_usd_const', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'price_band', 'reference',false, 'u_sales_price_band',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_data_center', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_total_acv_a', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_parent', 'reference',false, 'sales_opportunity',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_next_steps_journaled', 'journal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'price_band.u_low', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_contract', 'reference',false, 'sales_contract',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_renewal_category', 'choice',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'name', 'string',true, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_sales_order_number', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_constant_fiscal_year', 'integer',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_solution_consultant', 'reference',false, 'sys_user',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'x_snc_salescrm_cpq_quote', 'reference',false, 'x_snc_salescrm_cpq_quote',null, 'x_snc_salescrm');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_constant_fx_rate', 'float',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_end_customer', 'reference',false, 'sales_account',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_closed_at_exchange_rate', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_sap_contract_id_req_status', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_product_technology_partner', 'reference',false, 'sales_account',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_serv_rev_usd_a', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_renewal_status', 'choice',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'x_snc_salescrm_agreement', 'reference',false, 'x_snc_salescrm_agreement',null, 'x_snc_salescrm');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_opportunity_link_reason', 'choice',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_usd_renewal_acv', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_sap_contract_id', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_opportunity_source', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_competitive_status', 'choice',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_product_specialist_notes', 'journal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_master_quote', 'reference',false, 'sales_quote',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'price_band.u_high', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_auto_renewal_flag', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_overlay_isr', 'reference',false, 'u_employee',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'owner', 'reference',false, 'sys_user',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_notes', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_term', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_gross_acv', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_commission_exception', 'choice',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ps_territory', 'reference',false, 'u_ps_territories',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_contract_type', 'string',true, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_credit_card_order', 'boolean',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_ssa_rollup_license_amount', 'decimal',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_express_conversion', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_price_book', 'reference',false, 'sales_price_book',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_auditing_notes', 'string',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'account', 'reference',false, 'sales_account',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = new GlideUIElement('sales_opportunity', 'u_contract_signed_date', 'glide_date',false, 'null',null, 'global');
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);function validate_integer(value) { 
    if(!containsOnlyChars( g_user_grouping_separator + &quot; 0123456789-&quot;, value))
        return new GwtMessage().getMessage(&quot;Invalid integer&quot;);
    return true;
}g_form.addValidator('integer', validate_integer);function validate_float(value) { 
    if(!containsOnlyChars(g_user_decimal_separator + g_user_grouping_separator + &quot; 0123456789-&quot;, value))
        return new GwtMessage().getMessage(&quot;Invalid number&quot;);

    return true;
}g_form.addValidator('float', validate_float);function validate_glide_date_time(value) {
    // empty fields are still valid dates 
    if(!value) 
        return true; 

    // We &quot;should&quot; have the global date format defined always defined. but there's always that edge case... 
    if(typeof g_user_date_time_format !== 'undefined') 
        return isDate(value, g_user_date_time_format) ? true : getMessage(&quot;Invalid Date&quot;); 

    // if we don't have that defined, we can always try guessing 
    return parseDate(value) !== null ? true : getMessage(&quot;Invalid Date&quot;); 
	
} g_form.addValidator('glide_date_time', validate_glide_date_time);function validate_decimal(value) { 
    if(!containsOnlyChars(g_user_decimal_separator + g_user_grouping_separator + &quot; 0123456789-&quot;, value))
        return new GwtMessage().getMessage(&quot;Invalid decimal number&quot;);
	
    return true;
}g_form.addValidator('decimal', validate_decimal);
		addTopRenderEvent( function() {
			// user may have already been created
			if (!window.g_user) {
				window.g_user = new GlideUser('prachy.gupta', 
					  'Prachy',
					  'Gupta',
					  ',tsp1_project_user,sn_compliance.read_only,u_call_for_speaker_user_basic,u_it_time_card_user,catalog,u_event_sessions_user_read,it_project_portfolio_user,u_it_resource_plan_user,sn_grc.read_only,template_editor_global,u_industries_user_basic,rota_manager,report_group,report_publisher,u_creative_services_target_audience_user,filter_group,u_implementation_competencies_read,knowledge,timecard_approver,document_management_user,pa_viewer,scrum_admin,skill_user,portfolio_manager,rm_defect_admin,cmdb_query_builder,u_test_delete,service_fulfiller,scrum_team_member,certification,project_user,sn_grc.reader,u_product_authorization_read,resource_user,filter_global,view_changer,u_test_scenario_create,assessment_admin,rm_release_scrum_admin,x_snc_ebc_briefing_user,sam_core_user,sales_request_user,report_global,cmdb_ci_itops,rm_doc_admin,internal,u_test_scenario_delete,u_pa_product_read,surf_team,tm_tester,u_surf_instance_planning_read,task_activity_writer,sm_user,u_it_time_sheet_user,x_snc_it_awards.user,u_test_write,sn_sm_finance_read,task_activity_reader,filter_admin,sn_compliance_approvers_user,sn_audit.user,budget_owner,rm_story_admin,approver_user,u_test_scenario_write,template_editor_group,sn_sm_finance_basic,feature_user,u_test_scenario_read,sn_apm.apm_user,sales_request_category_read,employee_event_attendance_user_basic,reason_read,sn_hr_core.hrsm_contingent,rm_sprint_admin,rm_scrum_task_admin,sales_request_read,sn_sm_marketing_basic,tsp1_demand_user,image_admin,u_test_create,x_snc_creative_ser_creative_services_category_user,list_updater,dependency_views,x_snc_creative_service_user_basic,sales_request_create,timeline_user,tsp1_timeline_user,sn_compliance_policy_approval_rule_user,u_call_for_speaker_user_write,territory_user,tm_test_manager,u_topics_user_basic,problem_user,rm_enhancement_admin,rm_task_admin,sn_compliance_approver_user,pps_resource,u_call_for_speaker_user_create,sn_risk.reader,address_create,u_competition_read,sn_sm_marketing_read,x_snc_vpm_2.client,timecard_user,sn_audit.stakeholder,project_manager,u_employee_attendance_sessions_user_read,project_portfolio_user,survey_reader,gauge_maker,task_editor,financial_mgmt_user,u_employee_event_attendance_request_user,sn_compliance.reader,x_snc_it_awards.admin,evt_mgmt_user,timeline_admin,sales_tax_rate_user,sm_view,surf_metric_report_viewer,u_test_read,report_scheduler,tsp1_program_manager,tsp1_project_manager,rm_product_admin,x_snc_it_awards.reviewer,sn_hr_sp.hrsp_contingent,address_read,itil,template_editor,program_manager,activity_email_log_viewer,u_bu_contacts_read,u_servicenow_time_card_user,inventory_user,admin,tsp1_portfolio_manager,x_snc_creative_service_user_read,rm_epic_admin,u_bu_success_activities_read,u_events_user_basic,u_surf_instances_read,fiscal_calendar_user,scrum_user,rm_test_admin,sn_audit.read_only,u_business_units_user_basic,report_admin,x_snc_creative_ser_creative_services_vendors_user,surf_development,process_owner,pd_user,knowledge_admin,tsp1_demand_manager,scrum_story_creator,demand_user,demand_manager,sn_grc.user,tsp1_project_portfolio_user',
					  '438ba998db604fc06d43fb371d9619c8',
					  'a5eb7080c087f08068d038f691289d09');
				window.g_user.setRoles(',tsp1_project_user,sn_compliance.read_only,u_call_for_speaker_user_basic,u_it_time_card_user,catalog,u_event_sessions_user_read,it_project_portfolio_user,u_it_resource_plan_user,sn_grc.read_only,template_editor_global,u_industries_user_basic,rota_manager,report_group,report_publisher,u_creative_services_target_audience_user,filter_group,u_implementation_competencies_read,knowledge,timecard_approver,document_management_user,pa_viewer,scrum_admin,skill_user,portfolio_manager,rm_defect_admin,cmdb_query_builder,u_test_delete,service_fulfiller,scrum_team_member,certification,project_user,sn_grc.reader,u_product_authorization_read,resource_user,filter_global,view_changer,u_test_scenario_create,assessment_admin,rm_release_scrum_admin,x_snc_ebc_briefing_user,sam_core_user,sales_request_user,report_global,cmdb_ci_itops,rm_doc_admin,internal,u_test_scenario_delete,u_pa_product_read,surf_team,tm_tester,u_surf_instance_planning_read,task_activity_writer,sm_user,u_it_time_sheet_user,x_snc_it_awards.user,u_test_write,sn_sm_finance_read,task_activity_reader,filter_admin,sn_compliance_approvers_user,sn_audit.user,budget_owner,rm_story_admin,approver_user,u_test_scenario_write,template_editor_group,sn_sm_finance_basic,feature_user,u_test_scenario_read,sn_apm.apm_user,sales_request_category_read,employee_event_attendance_user_basic,reason_read,sn_hr_core.hrsm_contingent,rm_sprint_admin,rm_scrum_task_admin,sales_request_read,sn_sm_marketing_basic,tsp1_demand_user,image_admin,u_test_create,x_snc_creative_ser_creative_services_category_user,list_updater,dependency_views,x_snc_creative_service_user_basic,sales_request_create,timeline_user,tsp1_timeline_user,sn_compliance_policy_approval_rule_user,u_call_for_speaker_user_write,territory_user,tm_test_manager,u_topics_user_basic,problem_user,rm_enhancement_admin,rm_task_admin,sn_compliance_approver_user,pps_resource,u_call_for_speaker_user_create,sn_risk.reader,address_create,u_competition_read,sn_sm_marketing_read,x_snc_vpm_2.client,timecard_user,sn_audit.stakeholder,project_manager,u_employee_attendance_sessions_user_read,project_portfolio_user,survey_reader,gauge_maker,task_editor,financial_mgmt_user,u_employee_event_attendance_request_user,sn_compliance.reader,x_snc_it_awards.admin,evt_mgmt_user,timeline_admin,sales_tax_rate_user,sm_view,surf_metric_report_viewer,u_test_read,report_scheduler,tsp1_program_manager,tsp1_project_manager,rm_product_admin,x_snc_it_awards.reviewer,sn_hr_sp.hrsp_contingent,address_read,itil,template_editor,program_manager,activity_email_log_viewer,u_bu_contacts_read,u_servicenow_time_card_user,inventory_user,admin,tsp1_portfolio_manager,x_snc_creative_service_user_read,rm_epic_admin,u_bu_success_activities_read,u_events_user_basic,u_surf_instances_read,fiscal_calendar_user,scrum_user,rm_test_admin,sn_audit.read_only,u_business_units_user_basic,report_admin,x_snc_creative_ser_creative_services_vendors_user,surf_development,process_owner,pd_user,knowledge_admin,tsp1_demand_manager,scrum_story_creator,demand_user,demand_manager,sn_grc.user,tsp1_project_portfolio_user', true);
			}
		    });
addRenderEvent( function() { var thisForm = document.getElementById('sales_opportunity.do');function onSubmit73cb5f41db601f04cd687deaae9619ab() {
	if(!g_form.isNewRecord()){
		var listEditor = GwtListEditor._getListEditor($j('table[list_name=&quot;sales_opportunity.u_sales_commission.u_master_opportunity&quot;]').attr('glide_list_edit_id'));
		if(listEditor != null &amp;&amp; listEditor != '' &amp;&amp; listEditor != 'null' &amp;&amp; listEditor != 'undefined'){
				var controller = listEditor.tableController;
				if(controller != null &amp;&amp; controller != ''){
					var modifiedList = checkFieldModification(controller);
					if(modifiedList != '' &amp;&amp; modifiedList != null){
						if(modifiedList.length > 0){
							g_form.setValue('u_notes',g_form.getValue('u_notes') + ' ');
						}
					}
				}
			}
	}
}
function checkFieldModification(controller){
	var list = [];
	if(controller != null &amp;&amp; controller != '' &amp;&amp; controller != 'null' &amp;&amp; controller != 'undefined'){
		var allSysIds = controller.sysIds;
		var listChanges = controller.changes.modifiedRecords;
		for (var i = 0; i &lt; allSysIds.length; i++) {
			if (listChanges[allSysIds[i]]&amp;&amp; (listChanges[allSysIds[i]].fields['u_opp_owner'].modified || listChanges[allSysIds[i]].fields['u_percentage_split'].modified)) {
				list.push(allSysIds[i]);
			}
		
		}
	}
	return list;
}

addOnSubmitEvent(thisForm, onSubmit73cb5f41db601f04cd687deaae9619ab,'onSubmit73cb5f41db601f04cd687deaae9619ab');});g_event_handlers_onSubmit['onSubmit73cb5f41db601f04cd687deaae9619ab'] = 'Save Split Commission';g_event_handler_ids['onSubmit73cb5f41db601f04cd687deaae9619ab'] = '2b5209be4f3e8a00e07d49cf0310c7c9';addRenderEvent( function() { var thisForm = document.getElementById('sales_opportunity.do');function onSubmitb3cb5f41db601f04cd687deaae9619ab() {
	if(g_form.getValue('u_master_quote') != '' || g_form.getValue('x_snc_salescrm_cpq_quote') != '') {
		
		var master_quote ='';
		if(g_scratchpad.master_quote_status){
			master_quote = g_scratchpad.master_quote_status.toLowerCase();
		}
		var oppStage = ''+g_form.getValue('stage');
		
		var closedOppStages =[];
		if(g_form.getValue('x_snc_salescrm_cpq_quote') != ''){
			closedOppStages = ['closed_won'];
		}
		else{
			closedOppStages = ['closed_won','closed_lost','closed_no_decision'];
		}
		var completedQuoteStages = ['accepted','rejected','cancelled'];
		jslog('master_quote.status : ' + master_quote);
		if(closedOppStages.indexOf(oppStage)!= -1 &amp;&amp; completedQuoteStages.indexOf(''+master_quote)==-1){
			alert('The Opportunity cannot be closed because the Master Quote is still active.Please Cancel, Reject or Accept the Master quote before closing this opportunity');
			return false;
			
		}
	}
	
}

addOnSubmitEvent(thisForm, onSubmitb3cb5f41db601f04cd687deaae9619ab,'onSubmitb3cb5f41db601f04cd687deaae9619ab');});g_event_handlers_onSubmit['onSubmitb3cb5f41db601f04cd687deaae9619ab'] = 'Check quote status on close of oppty';g_event_handler_ids['onSubmitb3cb5f41db601f04cd687deaae9619ab'] = '31773f8b4164250006ff035e3ab2ccca';addRenderEvent( function() { var thisForm = document.getElementById('sales_opportunity.do');function onSubmitf3cb5f41db601f04cd687deaae9619ab() { 
	g_form.clearMessages();
	g_form.hideFieldMsg('u_use_line_items'); 
	var stageInt = 0;
	if(surf_form.getOption('stage',g_form.getValue('stage'))){
		stageInt = parseInt(surf_form.getOption('stage',g_form.getValue('stage')).text); 
	}
	
	if((stageInt >=5 &amp;&amp; stageInt!=9 &amp;&amp; g_form.getValue('stage')!='closed_lost' &amp;&amp; g_form.getValue('stage')!='closed_no_decision') || (g_form.getValue('type')=='Renewal' &amp;&amp; g_form.getValue('stage')=='closed_lost') ){
		if(g_form.getValue('u_use_line_items')=='false'){
			g_form.setMandatory('u_use_line_items', true);
			g_form.addErrorMessage('Changes cannot be saved. Entry of product line items required');
			g_form.showFieldMsg('u_use_line_items','Entry of product line items required','error');
			return false;
		}
	} 
	
	
}

addOnSubmitEvent(thisForm, onSubmitf3cb5f41db601f04cd687deaae9619ab,'onSubmitf3cb5f41db601f04cd687deaae9619ab');});g_event_handlers_onSubmit['onSubmitf3cb5f41db601f04cd687deaae9619ab'] = 'SSA Line item mandatory on submit';g_event_handler_ids['onSubmitf3cb5f41db601f04cd687deaae9619ab'] = '370bed098c99510006ff5e62ef64bb38';addRenderEvent( function() { var thisForm = document.getElementById('sales_opportunity.do');gFormAlreadySubmitted = false;
function onSubmit37cb5f41db601f04cd687deaae9619ab() {
	if (gFormAlreadySubmitted) {
		return true;
	}
	var catAccount = g_form.getValue('account');
	var grMeeting = new GlideRecord('sales_activity');
	
	strQuery = &quot;type=Meeting&quot;;
	strQuery = strQuery + &quot;^account=&quot; + catAccount;
	strQuery = strQuery + &quot;^opportunity=&quot; + &quot;&quot;;
	strQuery = strQuery + &quot;^u_activity_due_dateONLast 90 days@javascript:gs.daysAgoStart(90)@javascript:gs.daysAgoEnd(0)&quot;;
	strQuery = strQuery + &quot;^u_meeting_statusNOT INRejected - Not Qualified,Rejected - Cancelled by Customer,Rejected - Cancelled by Sales&quot;;
	strQuery = strQuery + &quot;^u_adr_meeting=true&quot;;
	grMeeting.encodedQuery = strQuery;
	grMeeting.query();
	
	
	var meetingCount=0;
	if(grMeeting.next()){
		meetingCount++;
	}
	console.log('Meeting count for Account:'+g_form.getValue('account')+'without any opportunity:'+meetingCount);
	if(meetingCount>0 &amp;&amp; g_form.getValue('u_meeting_display_flag')=='false'){
		g_form.setValue('u_meeting_display_flag','true');
		showMeetings();
		return false;
	}
} 
function showMeetings() {
		var width = document.body.clientWidth;
		console.log(&quot; document width : &quot;+ width);
		var num = g_form.getValue('account');
	    var grpId = 'f3b8db6537af4600b4ca1f7543990eb8';
		var opportunity = g_form.getUniqueValue();
		var gdw = new GlideDialogWindow('meetings_list');
		gdw.setTitle('Was this opportunity sourced by a meeting?  If yes, select the appropriate meeting below.  If no, select &quot;Skip&quot;.');
		gdw.setSize(250,300);
		gdw.setPreference(&quot;sysparm_account_id&quot;, num);
		gdw.setPreference(&quot;sysparm_group_name&quot;, grpId);
		gdw.setPreference(&quot;sysparm_opportunity&quot;, opportunity);
		gdw.setPreference(&quot;sysparm_action&quot;,'SaveAndExit');
		gdw.setPreference(&quot;sysparm_doc_width&quot;, width);
		gdw.render();
	}

addOnSubmitEvent(thisForm, onSubmit37cb5f41db601f04cd687deaae9619ab,'onSubmit37cb5f41db601f04cd687deaae9619ab');});g_event_handlers_onSubmit['onSubmit37cb5f41db601f04cd687deaae9619ab'] = 'Set Meeting on submit';g_event_handler_ids['onSubmit37cb5f41db601f04cd687deaae9619ab'] = '6aba7c854f2f0e401f77a50f0310c78e';addRenderEvent( function() { var thisForm = document.getElementById('sales_opportunity.do');function onSubmit77cb5f41db601f04cd687deaae9619ab() {
	var optyType = g_form.getValue('type');
	var orderTermEndDate = g_form.getValue('u_order_term_end_date') + '';
	var cntrEndDate = g_form.getValue('u_contract_end_date') + '';
	if (optyType.indexOf('Upsell') != -1 &amp;&amp; g_form.getValue('stage') == 'closed_won'&amp;&amp; orderTermEndDate != cntrEndDate)  {
		return confirm('The Order Term End Date and Contract End Date do not match. Do you want to continue?');
	}
	return true;
}

addOnSubmitEvent(thisForm, onSubmit77cb5f41db601f04cd687deaae9619ab,'onSubmit77cb5f41db601f04cd687deaae9619ab');});g_event_handlers_onSubmit['onSubmit77cb5f41db601f04cd687deaae9619ab'] = 'Check end date for upsell';g_event_handler_ids['onSubmit77cb5f41db601f04cd687deaae9619ab'] = '737e335f37d54200de6cd8d543990ed5';addRenderEvent( function() { var thisForm = document.getElementById('sales_opportunity.do');function onSubmitb7cb5f41db601f04cd687deaae9619ab() {
	jslog(&quot; ssaOppForm.isProcessingTerm : &quot;+ ssaOppForm.isProcessingTerm);
	
	if(ssaOppForm.isProcessingTerm){
		ssaOppForm.formNeedsSaving = true;
		jslog(&quot; setting formNeedsSaving to true!&quot;);
		return false;
	}
}

addOnSubmitEvent(thisForm, onSubmitb7cb5f41db601f04cd687deaae9619ab,'onSubmitb7cb5f41db601f04cd687deaae9619ab');});g_event_handlers_onSubmit['onSubmitb7cb5f41db601f04cd687deaae9619ab'] = 'Check if opp onChange is processed';g_event_handler_ids['onSubmitb7cb5f41db601f04cd687deaae9619ab'] = '8832dc1e6fc0f500188e360d5d3ee401';var messages = new GwtMessage();messages.set('This scripts make sure that the onChange of term is processes before the quote gets saved');addRenderEvent( function() { var thisForm = document.getElementById('sales_opportunity.do');function onSubmitf7cb5f41db601f04cd687deaae9619ab() {
   
   var dppSeat = g_form.getValue('u_discount_price_per_seat');
   var numSeat = currencyToFloat(dppSeat);

   var dppServer = g_form.getValue('u_discount_price_per_server');
   var numServer = currencyToFloat(dppServer);



   if (dppSeat != null &amp;&amp; numSeat > 300) {
     alert(&quot;The value specified for the Discount price per seat must be less than 300&quot;);
     return false;
   }

   if (dppServer != null  &amp;&amp; numServer > 300) {
     alert(&quot;The value specified for the Discount price per seat must be less than 300&quot;);
     return false;
   }


}

function currencyToFloat(currencyString) {
   currencyString += '';
var cleanValue = currencyString.replace(/[^0-9\.]/g, '');
   cleanValue = (cleanValue == '') ? '0' : cleanValue;

   var numeric = parseFloat(cleanValue);
   return numeric;
}


addOnSubmitEvent(thisForm, onSubmitf7cb5f41db601f04cd687deaae9619ab,'onSubmitf7cb5f41db601f04cd687deaae9619ab');});g_event_handlers_onSubmit['onSubmitf7cb5f41db601f04cd687deaae9619ab'] = 'Check for valid Discount Price Per Seat';g_event_handler_ids['onSubmitf7cb5f41db601f04cd687deaae9619ab'] = 'e5ba66810a0a3cba0166b5b719d53f84';addRenderEvent( function() { var thisForm = document.getElementById('sales_opportunity.do');function onSubmit3bcb5f41db601f04cd687deaae9619ab() {
	var ga = new GlideAjax(&quot;CurrDomainAjax&quot;);
	ga.addParam('sysparm_name', 'currDomain');
	ga.getXMLWait();
	var domName = ga.getAnswer();
	
	if(domName == 'global'){
		return true;
	}
	if(gel('sys_target')){
		var table = gel('sys_target').value;
		var prop = new GlideAjax(&quot;GenericSurfUtilsAjax&quot;);
		prop.addParam('sysparm_name', 'getDomainProtectProperty');
		prop.getXMLWait();
		var tableString = prop.getAnswer();
		if(!tableString){
			tableString = '';
		}
		var arr = tableString.split(',');
		for(i=0;i&lt;=arr.length;i++){
			if(arr[i] == table){
				var agree=confirm('\nCURRENT DOMAIN: &quot;'+ domName + '&quot;\n\nAre you sure you wish to continue?');
				if(agree){
					return true ;
				}else{
					return false ;
				}
			}
		}
	}
}

addOnSubmitEvent(thisForm, onSubmit3bcb5f41db601f04cd687deaae9619ab,'onSubmit3bcb5f41db601f04cd687deaae9619ab');});g_event_handlers_onSubmit['onSubmit3bcb5f41db601f04cd687deaae9619ab'] = 'Domain - Protect Scripts';g_event_handler_ids['onSubmit3bcb5f41db601f04cd687deaae9619ab'] = 'f25a172aa84ba1b5007978515cdf6358';addRenderEvent( function() { var thisForm = document.getElementById('sales_opportunity.do');function onSubmit7bcb5f41db601f04cd687deaae9619ab() {
   if((!g_user.hasRole('sales_operations') &amp;&amp; !g_user.hasRole('order_management')) &amp;&amp; (g_form.getValue('type') == 'Renewal' &amp;&amp; (g_form.getValue('stage') == 'lead_generation' || g_form.getValue('stage') == 'opportunity_qualification' || g_form.getValue('stage') == 'Demo'))){
	   generateAlert('Forecast Stage Error','Invalid Forecast Stage selection. Please contact your Sales Operations Specialist for assistance.');
	   var el_id = g_form.getControl(&quot;stage&quot;).id;
	   var orig_val = gel(&quot;sys_original.&quot;+ el_id).value;
	   g_form.setValue(&quot;stage&quot;,orig_val);
	   return false;
	   
   }
}
function generateAlert(title, message) {
	var gdw = new GlideDialogWindow('glide_warn', true);
	gdw.setTitle(title);
	gdw.setPreference('title', message);
	gdw.render();	
}

addOnSubmitEvent(thisForm, onSubmit7bcb5f41db601f04cd687deaae9619ab,'onSubmit7bcb5f41db601f04cd687deaae9619ab');});g_event_handlers_onSubmit['onSubmit7bcb5f41db601f04cd687deaae9619ab'] = 'SLS_Validte Stage in Renewal';g_event_handler_ids['onSubmit7bcb5f41db601f04cd687deaae9619ab'] = 'ff3838e3dbf932804ebcf3e51d9619ac';function onLoad_fbcb5f41db601f04cd687deaae9619ab() {
	if(!g_user.hasRole('sales_operations')){
		var editableFields = g_form.getEditableFields();
		if (editableFields.indexOf(&quot;u_contract_status&quot;) > -1) {
			var opportunityOrderFControl = g_form.getControl('u_contract_status');
			var OrderFormStatuses = opportunityOrderFControl.options;
			for(var i=0;i&lt; OrderFormStatuses.length;i++){
				if(OrderFormStatuses[i].value == 'Signed Complete sent to OM'){
					OrderFormStatuses[i].disabled = true;
				}
			}
		}
	}
	
	
	if(g_scratchpad.isMemberSTOpp || g_user.hasRole('admin') || g_scratchpad.isADRMember){
		g_form.showRelatedList('u_st_opportunity');
	}
	else{
		g_form.hideRelatedList('u_st_opportunity');
	}
	
	var optyType =  g_form.getValue('type');
	if(optyType == 'split_adjuster' || g_form.isNewRecord()){
		g_form.setSectionDisplay('split_commission',false);	
	}
	
	var userFRlistMember = g_scratchpad.hasFirstRainAccess;
	if (userFRlistMember == false){
		g_form.setSectionDisplay('firstrain', false);
	}
	
}

addRenderEventLogged(onLoad_fbcb5f41db601f04cd687deaae9619ab, 'onLoad Set Order Form Status specific to SOPS','onLoad_fbcb5f41db601f04cd687deaae9619ab');g_event_handlers_onLoad['onLoad_fbcb5f41db601f04cd687deaae9619ab'] = 'Set Order Form Status specific to SOPS';g_event_handler_ids['onLoad_fbcb5f41db601f04cd687deaae9619ab'] = '05a9f62d3712f100de6cd8d543990e35';function onLoad_3fcb5f41db601f04cd687deaae9619ab() {
   var valueToRestore = g_user.getClientData('temporary_related_list_timing_value');
	if(valueToRestore &amp;&amp; valueToRestore != ''){
		setPreference('glide.ui.related_list_timing', valueToRestore);
		g_user.setClientData('temporary_related_list_timing_value', '');
	}
}

addRenderEventLogged(onLoad_3fcb5f41db601f04cd687deaae9619ab, 'onLoad Restore related list timing','onLoad_3fcb5f41db601f04cd687deaae9619ab');g_event_handlers_onLoad['onLoad_3fcb5f41db601f04cd687deaae9619ab'] = 'Restore related list timing';g_event_handler_ids['onLoad_3fcb5f41db601f04cd687deaae9619ab'] = '0e865fc4db11b6004ebcf3e51d961938';function onLoad_7fcb5f41db601f04cd687deaae9619ab() {
	
	
	ssaOppForm.init();
	ssaSetPrecisionTermByTermField();
	addAfterPageLoadedEvent(function() {
		setTitle();
	});
}
function loadScript(src) {
	var head = document.getElementsByTagName('head')[0];
	var script = document.createElement('script');
script.type = 'text/javascript';
	script.src = src;
	head.appendChild(script);
}
var surf_form = {
	isValidSelect : function(control) {
		return (control &amp;&amp; control.options);
	},
	getElementWithPrefix : function(p, name) {
		return gel(p + &quot;.&quot; + g_form.tableName + &quot;.&quot; + name);
	},
	isReadOnly : function(fieldName) {
		return g_form.securityReadOnlyFields.join().indexOf(
		g_form.tableName + &quot;.&quot; + fieldName) > -1;
	},
	getOptionControl : function(fieldName) {
		var control = g_form.getControl(fieldName);
		if (!surf_form.isValidSelect(control)
			&amp;&amp; surf_form.isReadOnly(fieldName)) {
			control = surf_form.getElementWithPrefix('sys_readonly', fieldName);
		}
		return control;
	},
	getOption : function(fieldName, choiceValue) {
		var control = surf_form.getOptionControl(fieldName, choiceValue);
		if (!surf_form.isValidSelect(control))
			return null;
		
		var options = control.options;
		for (var i = 0; i &lt; options.length; i++) {
			var option = options[i];
			if (option.value == choiceValue)
				return option;
		}
		return null;
	}
};
var ssaOppForm = {
	
	isProcessingBaseCurrency : false,
	isProcessingPriceBook : false,
	isProcessingTerm : false,
	formNeedsSaving : false,
		deleteLineItemsOnSave : false,
	
	init : function() {
		ssaOppForm.setAccountCurrencyOnLoad();
		ssaOppForm.setPriceBookOnLoad();
		ssaOppForm.disableExpressARForNewBusiness();
		ssaOppForm._fixFieldLabels();
		ssaOppForm._setCurrencySymbols();
		ssaOppForm.setAccountCurrencyOnLoadNewRecord();
		
		if(!g_form.isNewRecord()){
			ssaOppForm.setExpressConverionField();
		}
		
		ssaOppForm.inactivateForcastTypeOption();
		ssaOppForm.disableSupersedingOrderOppType();
		ssaOppForm.removeForecastStage();
		ssaOppForm.checkingTermCondition();
	},
	
	
	removeForecastStage:function(){
		if(g_scratchpad.quote_processing_allowed.indexOf('No Constraint') != -1 &amp;&amp; !ssaOppForm._isAppStoreOrLMS(g_form.getValue('u_contract_type')) &amp;&amp; g_form.getValue('stage') !='closed_won' &amp;&amp; !(g_user.hasRole('order_management') || g_user.hasRole('admin')))
			g_form.removeOption('stage','closed_won');
	},
	
	setExpressConverionField : function(){
		if(g_scratchpad.express_conversion){
			g_form.setDisplay('u_express_conversion', true); 
		}else{
			g_form.setDisplay('u_express_conversion', false);
		}
	},
	
	inactivateForcastTypeOption: function(){
		if (ssaOppForm._isAppStore(g_form.getValue('u_contract_type'))){
			g_form.addOption('u_forecast_type', '3', 'MSP Sell With', 4);
			g_form.addOption('u_forecast_type', '5', 'Not Applicable', 5);
		}else{
var forecastType = g_scratchpad.forecastType;
			if(forecastType !== '5'){
				g_form.removeOption('u_forecast_type', '5');
			}if(forecastType !== '3'){
				g_form.removeOption('u_forecast_type', '3');
			}
		}
	},
	
	disableSupersedingOrderOppType : function(){
	   if(g_form.getValue('type') !== 'Superseding order'){
		   g_form.removeOption('type','Superseding order');
	   }
	
    },
	
   disableExpressARForNewBusiness : function(){
	   if(g_form.getValue('type') == 'new_business'){
		   g_form.removeOption('u_contract_type','Express Auto Renewal');
	   }
	
    },
	
	checkingTermCondition :function(){
		
		if(g_scratchpad.flagPrecision == true){
			g_form.setMandatory('u_order_term_start_date',true);
			g_form.setMandatory('u_contract_duration',true);
			g_form.setMandatory('u_order_term_end_date',true);
		}
	},
	
	hasLineItems : function() {
		return (g_scratchpad.totalLineCount > 0);
	},
	
	hasMasterQuote : function() {
		return (g_form.getValue('u_master_quote') != '');
	},
	
	hasMasterCPQQuote : function() {
		return (g_form.getValue('x_snc_salescrm_cpq_quote') != '');
	},
	
	hasContract : function() {
		return (g_form.getValue('u_contract') != &quot;&quot;);
	},
	
	setAccountCurrencyOnLoad : function() {
		if (g_form.getValue('account') != ''
			&amp;&amp; g_form.getValue('u_base_currency') == '') {
			ssaOppForm.setAccountCurrency();
		}
	},
	setAccountCurrencyOnLoadNewRecord:function(){
		if (g_form.getValue('account') != '' &amp;&amp; g_form.isNewRecord()){
			ssaOppForm.setAccountCurrency();
		}
	},
	
	
	approvalClick : function() {
		
		var previewStage = 'order';
		var dialog = new GlideDialogWindow('ssa_quote_approval_preview');
		dialog.setTitle('Approver Preview');
		dialog.setPreference('quoteId', g_form.getValue('u_master_quote'));
		dialog.setPreference('previewType', previewStage);
		dialog.render();
	},
	
	_fixFieldLabels : function() {
		try {
			if (g_form.getLabel('price_band.u_high'))
				g_form.getLabel('price_band.u_high').innerHTML = 'High';
			
			if (g_form.getLabel('price_band.u_low'))
				g_form.getLabel('price_band.u_low').innerHTML = 'Low';
			
			if (g_form.getLabel('price_band.u_level_1'))
				g_form.getLabel('price_band.u_level_1').innerHTML = 'Level 1: Sales Rep';
			if (g_form.getLabel('price_band.u_level_2'))
				g_form.getLabel('price_band.u_level_2').innerHTML = 'Level 2: Sales Manager';
			if (g_form.getLabel('price_band.u_level_3'))
				g_form.getLabel('price_band.u_level_3').innerHTML = 'Level 3: Sales Director';
			if (g_form.getLabel('price_band.u_level_4'))
				g_form.getLabel('price_band.u_level_4').innerHTML = 'Level 4: Sales Area VP';
			if (g_form.getLabel('price_band.u_level_5'))
				g_form.getLabel('price_band.u_level_5').innerHTML = 'Level 5: Sales Major Area VP';
			
			if (g_form.getLabel('price_band.u_level_6'))
				g_form.getLabel('price_band.u_level_6').innerHTML = 'Level 6: Sales Geo VP';
			
			
			if (g_form.getLabel('u_ssa_rollup_license_val_usd_const'))
				g_form.getLabel('u_ssa_rollup_license_val_usd_const').innerHTML = 'USD Constant FX Total License Value';
			
			if (g_form.getLabel('u_ssa_rollup_acv_usd_const'))
				g_form.getLabel('u_ssa_rollup_acv_usd_const').innerHTML = 'USD Constant FX Total Subscription ACV';
			
			if (g_form.getLabel('u_ssa_rollup_netnewacv_usd_const'))
				g_form.getLabel('u_ssa_rollup_netnewacv_usd_const').innerHTML = 'USD Constant FX Total Net New ACV';
			
			if (g_form.getLabel('u_ssa_rollup_netnewacv_w_usd_const'))
				g_form.getLabel('u_ssa_rollup_netnewacv_w_usd_const').innerHTML = 'USD Constant FX Total Weighted ACV';
			
			if (g_form.getLabel('u_ssa_rollup_other_rev_usd_const'))
				g_form.getLabel('u_ssa_rollup_other_rev_usd_const').innerHTML = 'USD Constant FX Total Other Revenue';
			
			if (g_form.getLabel('u_ssa_rollup_serv_rev_usd_const'))
				g_form.getLabel('u_ssa_rollup_serv_rev_usd_const').innerHTML = 'USD Constant FX Total PS Revenue';
			
			if (g_form.getLabel('u_ssa_rollup_train_rev_usd_const'))
				g_form.getLabel('u_ssa_rollup_train_rev_usd_const').innerHTML = 'USD Constant FX Total Training Revenue';
			
			if (g_form.getLabel('u_ssa_rollup_ttl_serv_usd_const'))
				g_form.getLabel('u_ssa_rollup_ttl_serv_usd_const').innerHTML = 'USD Constant FX Total Services Revenue';
			
			if (g_form.getLabel('u_renewal_acv_const'))
				g_form.getLabel('u_renewal_acv_const').innerHTML = 'USD Constant FX Renewal ACV';
			
			if (g_form.getLabel('u_deal_registration.u_lead_status'))
				g_form.getLabel('u_deal_registration.u_lead_status').innerHTML = 'Opportunity Registration Status';
			
			if (g_form.getLabel('u_deal_registration.u_deal_registration_number'))
				g_form.getLabel('u_deal_registration.u_deal_registration_number').innerHTML = 'Opportunity Registration Number';
	
			if (g_form.getLabel('u_secondary_deal_registraion_n.u_deal_registration_number'))
				g_form.getLabel('u_secondary_deal_registraion_n.u_deal_registration_number').innerHTML = 'Secondary Opportunity Registration Number';
			
		} catch (e) {
			throw &quot;_fixFieldLabelsException: &quot; + e;
		}
	},
	
	_setCurrencySymbols : function() {
		var fieldNamesUsd = ['u_ssa_rollup_acv_usd_const', 'u_ssa_rollup_license_val_usd_const', 'u_ssa_rollup_serv_rev_usd_const', 'u_ssa_rollup_other_rev_usd_const', 'u_ssa_rollup_train_rev_usd_const', 'u_ssa_rollup_ttl_serv_usd_const', 'u_ssa_rollup_netnewacv_usd_const', 'u_ssa_rollup_netnewacv_w_usd_const','u_renewal_acv_const','u_usd_renewal_acv',
'u_ssa_rollup_acv_usd_a', 'u_ssa_rollup_license_val_usd_a', 'u_ssa_rollup_netnewacv_usd_a', 'u_ssa_rollup_netnewacv_w_usd_a', 'u_ssa_rollup_other_rev_usd_a', 'u_ssa_rollup_serv_rev_usd_a', 'u_ssa_rollup_train_rev_usd_a', 'u_ssa_rollup_ttl_serv_usd_a','u_usd_net_new_acv','u_usd_total_annual_list_price','u_usd_ps_revenue','u_usd_weighted_acv'];
		for (i = 0; i &lt; fieldNamesUsd.length; i++) {
			ssaSetCurrencySymbolInForm(fieldNamesUsd[i], '$');
		}
		
		var currencyFieldsLst = ['u_ssa_rollup_acv_amount','u_ssa_rollup_license_amount','u_ssa_rollup_netnewacv_a','u_ssa_rollup_other_amount','u_ssa_rollup_partner_amount','u_ssa_rollup_serv_amount','u_ssa_rollup_train_amount','u_ssa_rollup_ttl_serv_amount','u_total_annual_list_price','u_net_new_acv_d','u_renewal_acv_d','u_total_acv_a','u_total_value_a','u_forecast_lump_sum_nnacv'];
		
		var inputCurrencySymbol =  g_scratchpad.Currency_Symbol;
		
		if(inputCurrencySymbol) {
			for (i = 0; i &lt; currencyFieldsLst.length; i++) {
				ssaSetCurrencySymbolInForm(currencyFieldsLst[i], inputCurrencySymbol);
			}
		}
	},
	
	setPriceBookOnLoad : function() {
		if (g_form.getValue('u_price_book') == '') {
			ssaOppForm.setDefaultPriceBook();
		}
	},
	
	calculateTermAndDates : function(overrideParam) {
		jslog(&quot; calculateTermAndDates TRIGERRED.. &quot;);
		ssaOppForm.isProcessingTerm = true;
		this._toggleDateTermFieldReadOnly(true);
		try {
			var ga = new GlideAjax('SSAOpportunityAjax');
			ga.addParam('sysparm_name', 'calculateTermAndDates');
			ga.addParam('sysparm_sys_id', g_form.getUniqueValue());
			ga.addParam('sysparm_u_order_term_start_date', g_form
			.getValue('u_order_term_start_date'));
			ga.addParam('sysparm_u_contract_duration', g_form
			.getValue('u_contract_duration'));
			ga.addParam('sysparm_u_order_term_end_date', g_form
			.getValue('u_order_term_end_date'));
			ga.addParam('sysparm_u_term', g_form.getValue('u_term'));
			ga.addParam('sysparm_override_param', overrideParam);
			ga.getXML(this._handleCalculateTermAndDatesResponse);
		} catch (e) {
			jslog(&quot; calculateTermAndDates CATCH.. &quot;);
			ssaOppForm.isProcessingTerm = false;
			this._toggleDateTermFieldReadOnly(false);
		}
	},
	
	_handleCalculateTermAndDatesResponse : function(response) {
		try {
			ssaOppForm._validateAjaxResponseHasResult(response);
			ssaOppForm._updateOpportunityValuesFromAjaxResponse(response);
		} catch (e) {
			console
			.error(&quot;SSA Opportunity Form - _handleCalculateTermAndDatesResponse encountered an exception: &quot;
			+ e);
		} finally {
			
			ssaOppForm.isProcessingTerm = false;
			ssaOppForm._toggleDateTermFieldReadOnly(false);
			ssaOppForm.submitFormIfNeeded();
		}
	},
	
	submitFormIfNeeded : function() {
		if (ssaOppForm.formNeedsSaving) {
			ssaOppForm.formNeedsSaving = false;
			g_form.save();
		}
	},
	
	onBaseCurrencyChange : function(control, oldValue, newValue, isLoading,
	isTemplate) {
		ssaOppForm.isProcessingBaseCurrency = true;
		
		try {
			
			var checkFlag = 0;
			
			if (g_form.getValue('type') == 'Renewal')
				if (g_user.hasRole('sales_operations') || (g_user.hasRole('order_management')) || g_user.hasRole('admin'))
					checkFlag = 0;
				else
					checkFlag = 1;
			else
				checkFlag = 0;
			
			if(checkFlag == 1)
				ssaOppForm._currencyChangeForRenewalDialog(control, oldValue,oldValue);
			else{
				if (!ssaOppForm.hasLineItems() &amp;&amp; !ssaOppForm.hasContract()) {
					ssaOppForm._completeBaseCurrencyChange(control, oldValue,newValue, false);
					return;
				}
				ssaOppForm._completeBaseCurrencyChange(control, oldValue,
				newValue, false);
			}
				
			
		
			} catch (e) {
			console
			.error(&quot;SSA Opportunity Form - onBaseCurrencyChange encountered an exception: &quot;
			+ e);
			ssaOppForm.isProcessingBaseCurrency = false;
		}
	},
	
	_completeBaseCurrencyChange : function(control, oldValue, newValue,
	changeCanceled) {
		try {
			
var encodedQuery = 'sys_id='+newValue;
			var returnFields = 'symbol';
			var x = new GlideAjax('SurfPerfUtil');
			x.addParam('sysparm_name','getFieldValues');
			x.addParam('sysparm_table','fx_currency');
			x.addParam('sysparm_queryField',encodedQuery);
			x.addParam('sysparm_returnFields',returnFields);
			x.getXML(function(response){
				var answer = response.responseXML.documentElement.getAttribute(&quot;answer&quot;);
answer = JSON.parse(answer);
				var currSymbol = answer['symbol'];
				if(currSymbol) {
					ssaSetCurrencySymbolInForm('u_forecast_lump_sum_nnacv', currSymbol);
				}
			});
			
			if (changeCanceled) {
				g_form.setValue('u_base_currency', newValue);
				return;
			}
			
			if (ssaOppForm.hasContract()) {
				g_form.setValue('u_contract', &quot;&quot;);
			}
			
			if (ssaOppForm.hasLineItems()) {
				ssaOppForm._setDeleteLineItemsOnSave();
			}
			
			ssaOppForm.setDefaultPriceBook(newValue);
			
		} catch (e) {
			console
			.error(&quot;SSA Opportunity Form - onBaseCurrencyChange encountered an exception: &quot;
			+ e);
		} finally {
			ssaOppForm.isProcessingBaseCurrency = false;
		}
	},
	
	_openBaseCurrencyChangeDialog : function(control, oldValue, newValue) {
		try {
			var dialog = new GlideDialogWindow('glide_confirm_with_text');
			dialog.setTitle('Confirmation Needed');
			var details = &quot;Clicking OK will do the following when the opp is saved:&lt;ul>&quot;;
			if (ssaOppForm.hasLineItems())
details += &quot;&lt;li>Delete all existing Line Items for the opportunity&lt;/li>&quot;;
			if (ssaOppForm.hasContract())
details += &quot;&lt;li>Remove the existing contract from this opportunity&lt;/li>&quot;;
details += &quot;&lt;/ul>&quot;;
			
			dialog.setPreference(&quot;details&quot;, details);
			dialog.setPreference('onPromptCancel', function() {
				ssaOppForm._completeBaseCurrencyChange(control, oldValue,
				oldValue, true);
			});
			dialog.setPreference('onPromptComplete', function() {
				ssaOppForm._completeBaseCurrencyChange(control, oldValue,
				newValue, false);
			});
			dialog.render();
		} catch (e) {
			console
			.error(&quot;SSA Opportunity Form - _openBaseCurrencyChangeDialog encountered an exception: &quot;
			+ e);
			ssaOppForm.isProcessingBaseCurrency = false;
		}
	},
	
	_currencyChangeForRenewalDialog : function(control, oldValue, newValue) {
		try {
			var dialog = new GlideModal('sls_glide_currencychange_renewal',true);
			dialog.setTitle('Currency Conversion Restricted');
			var details = &quot;Only SOPS can change currency in Surf. Please contact your Renewals Specialist for assistance&quot;;
			dialog.setPreference(&quot;details&quot;, details);
			dialog.setPreference('onPromptCancel', function() {
				ssaOppForm._completeBaseCurrencyChange(control, oldValue,oldValue, true);
			});
			dialog.render();
		} catch (e) {
			ssaOppForm.isProcessingBaseCurrency = false;
		}
	},
	
	onAccountChange : function(control, oldValue, newValue, isLoading,
	isTemplate) {
		ssaOppForm.isProcessingAccountChange = true;
		
		try {
			if (g_scratchpad.master_quote == '') {
				ssaOppForm.setAccountCurrency(true);
				ssaOppForm.isProcessingAccountChange = false;
				return;
			}
			ssaOppForm._openOnAccountChangeDialog(control, oldValue, newValue);
		} catch (e) {
			console
			.error(&quot;SSA Opportunity Form - onAccountChange encountered an exception: &quot;
			+ e);
			ssaOppForm.isProcessingAccountChange = false;
		}
	},
	
	_completeonAccountChange : function(control, oldValue, newValue,
	changeCanceled) {
		try {
			if (changeCanceled) {
				g_form.setValue('account', newValue);
				return;
			}
			
			ssaOppForm.setAccountCurrency(true);
			
		} catch (e) {
			console
			.error(&quot;SSA Opportunity Form - onBaseCurrencyChange encountered an exception: &quot;
			+ e);
		} finally {
			ssaOppForm.isProcessingAccountChange = false;
		}
	},
	
	
	_openOnAccountChangeDialog : function(control, oldValue, newValue) {
		try {
			var dialog = new GlideDialogWindow('glide_confirm_with_text');
			dialog.setTitle('Confirmation Needed');
			var details = &quot;Clicking OK will do the following when the opp is saved:&lt;ul>&quot;;
			
details += &quot;&lt;li>Update all existing Quotes with new Account Information&lt;/li>&quot;;
details += &quot;&lt;li>Reset all existing Quotes to Draft&lt;/li>&quot;;
details += &quot;&lt;li>If base currency changes then the line items will be deleted before resetting as above&lt;/li>&quot;;
details += &quot;&lt;/ul>&quot;;
			
			dialog.setPreference(&quot;details&quot;, details);
			dialog.setPreference('onPromptCancel', function() {
				ssaOppForm._completeonAccountChange(control, oldValue,
				oldValue, true);
			});
			dialog.setPreference('onPromptComplete', function() {
				ssaOppForm._completeonAccountChange(control, oldValue,
				newValue, false);
			});
			dialog.render();
		} catch (e) {
			console
			.error(&quot;SSA Opportunity Form - _openBaseCurrencyChangeDialog encountered an exception: &quot;
			+ e);
			ssaOppForm.isProcessingAccountChange = false;
		}
	},
	
	
	_setDeleteLineItemsOnSave : function() {
		if (ssaOppForm.deleteLineItemsOnSave === true) {
			return;
		}
		
		ssaOppForm.deleteLineItemsOnSave = true;
	},
	
	_validateAjaxResponseHasResult : function(response) {
		if (response.responseXML.getElementsByTagName(&quot;result&quot;)[0] == null) {
			throw &quot;No result object found in Ajax response!&quot;;
		}
	},
	
	_updateOpportunityValuesFromAjaxResponse : function(response) {
		var opportunity = ssaGetAjaxResponseXmlElements(response, 'opportunity');
		
		if (opportunity == {}) {
			return;
		}
		
		for ( var k in opportunity) {
			if (k == 'u_price_book' &amp;&amp; ssaOppForm._isAppStoreOrLMS(g_form.getValue('u_contract_type'))) {
				ssaOppForm._setPriceBookValue(opportunity.u_price_book);
			} else {
				
				console
				.log('SHILPA _updateOpportunityValuesFromAjaxResponse : field : '
				+ k + ' values : ' + opportunity[k]);
				g_form.setValue(k, opportunity[k]);
			}
		}
		
		ssaSetPrecisionTermByTermField();
	},
	
	_toggleDateTermFieldReadOnly : function(isReadOnly) {
		if (ssaOppForm.hasMasterQuote() || ssaOppForm.hasMasterCPQQuote()) {
			return;
		}
		ssaOppForm.setFieldsAsReadOnly([ 'u_order_term_start_date',
		'u_order_term_end_date', 'u_contract_duration' ], isReadOnly);
	},
	
	onContractTypeChange : function(control, oldValue, newValue, isLoading, isTemplate) {
		try{
			ssaOppForm.inactivateForcastTypeOption();
			if (ssaOppForm._isAppStoreOrLMS(newValue)){
				if(!oldValue || !ssaOppForm._isAppStoreOrLMS(oldValue)){
					ssaOppForm.setDefaultPriceBook();
				}
			} else {
				if(!g_form.isNewRecord()){
					ssaOppForm._openDeleteLinesDialog(oldValue);
				}
				ssaOppForm._setPriceBookValue('');
			}
		}catch (e) {
			console.error(&quot;SSA Opportunity Form - onContractTypeChange encountered an exception: &quot; + e);
		}
	},
	
	setDefaultPriceBook : function() {
		if (ssaOppForm._isAppStoreOrLMS(g_form.getValue('u_contract_type'))){
			
			var priceBookSysId;
			
			if (ssaOppForm._isAppStore(g_form.getValue('u_contract_type'))){
priceBookSysId = ssaOppForm._getAppstoreDefaultPriceBook();
			}
			else {
				priceBookSysId = ssaOppForm._getDefaultPriceBook();
			}
			
			if (priceBookSysId == null || priceBookSysId == '') {
				g_form
					.addErrorMessage(&quot;A default price book could not be found for the selected currency.  Please chooose a price book manually or select a different currency.&quot;);
			}
			ssaOppForm._setPriceBookValue(priceBookSysId);
		}
	},
	
	_openDeleteLinesDialog: function(oldValue){
			try {
			var dialog = new GlideDialogWindow('glide_confirm_with_text');
			dialog.setTitle('Confirmation Needed');
			var details = &quot;Clicking OK will delete all existing Line Items for the opportunity when the opp is saved:&lt;ul>&quot;;
details += &quot;&lt;/ul>&quot;;
			
			dialog.setPreference(&quot;details&quot;, details);
			dialog.setPreference('onPromptCancel', function() {
				g_form.setValue('u_contract_type', oldValue);
			});
			dialog.setPreference('onPromptComplete', function() {
			});
			dialog.render();
		} catch (e) {
			console.error(&quot;SSA Opportunity Form - _openDeleteLinesDialog encountered an exception: &quot; + e);
		}
	},
	
	_setPriceBookValue : function(priceBookSysId) {
		g_form.setValue('u_price_book', priceBookSysId);
		if (g_form.isNewRecord()) {
			g_form.fieldChanged('sales_opportunity.u_price_book', true);
		}
	},
	
	_isAppStoreOrLMS : function(contractType) {
		var contractTypesArr = ['LMS', 'App Store', 'App Store TPP'];
var oppContractType = contractType;
		return (contractTypesArr.indexOf(oppContractType)!=-1);
	},
	
	_isAppStore : function(contractType) {
		var contractTypesArr = ['App Store', 'App Store TPP'];
var oppContractType = contractType;
		return (contractTypesArr.indexOf(oppContractType)!=-1);
	},
	
	_getDefaultPriceBook : function() {
		var ga = new GlideAjax('SSAOpportunityAjax');
		ga.addParam('sysparm_name', 'getDefaultPriceBook');
		ga.addParam('sysparm_sys_id', g_form.getUniqueValue());
		ga.getXMLWait();
		
		var priceBookSysId = ga.getAnswer();
		return priceBookSysId;
	},
	
	_getAppstoreDefaultPriceBook : function() {
		
		var ga = new GlideAjax('SSAOpportunityAjax');
		ga.addParam('sysparm_name', 'getAppstoreDefaultPriceBook');
		ga.addParam('sysparm_sys_id', g_form.getUniqueValue());
		ga.getXMLWait();
		
		var priceBookSysId = ga.getAnswer();
		return priceBookSysId;
		
	},	
	
	_showHideRelatedLists : function(quoteRelatedListRoles) {
		
		if (quoteRelatedListRoles != null) {
			var isOK = g_user.hasRoleFromList(quoteRelatedListRoles);
			if (isOK == false)
				g_form.hideRelatedList('sales_quote.opportunity');
		}
	},
	
	verifyActiveFXRate : function() {
		try {
			jslog('Entering verifyActiveFXRate');
			var baseCurrency = g_form.getValue('u_base_currency');
			
			var CCAjax = new GlideAjax('SSAOpportunityAjax');
			CCAjax.addParam('sysparm_name', 'getFXRateForCurrencyCode');
			CCAjax.addParam('sysparm_sys_id', g_form.getUniqueValue());
			CCAjax.addParam('sysparm_u_base_currency', baseCurrency);
			
			CCAjax.getXML(processServerResponse);
			
			function processServerResponse(response) {
				console
				.log('Processing response for  getFXRateForCurrencyCode');
				
				var result = response.responseXML
				.getElementsByTagName(&quot;result&quot;);
				var newFXRate = result[0].getAttribute(&quot;fxRate&quot;);
				
				var oldFXRate = g_form.getValue('u_fx_rate_string');
				
				if (oldFXRate != newFXRate) {
					jslog('the rates changed from ' + oldFXRate + ' to: '
					+ newFXRate);
					g_form
					.addInfoMessage('The FX Rate on this opportunity is no longer valid! The new FX Rate for this currency is: '
					+ newFXRate);
				}
			}
		} catch (e) {
			alert('Something went wrong please contact your administrator. \n\nException\n\n: '
			+ e);
		}
	},
	
	_setCurrencyAjaxResponse : function(serverResponse) {
		var result = serverResponse.responseXML.getElementsByTagName(&quot;result&quot;);
		var currency = result[0].getAttribute(&quot;currency&quot;);
		if (currency) {
			g_form.setValue('u_base_currency', currency);
		}
	},
	
	setAccountCurrency : function(fromOnChange, control, oldValue, newValue,
	isLoading, isTemplate) {
		if (fromOnChange) {
			var getCurrency = new GlideAjax('GetAccountCurrencyAjax');
			getCurrency.addParam('sysparm_name', 'getCurrency');
			getCurrency.addParam('sysparm_account_sys_id', g_form
			.getValue('account'));
			getCurrency.getXML(ssaOppForm._setCurrencyAjaxResponse);
		} else {
			var getCurrencyAjax = new GlideAjax('SurfCurrencyAJAX');
			getCurrencyAjax.addParam('sysparm_name', 'getCurrency');
			getCurrencyAjax.addParam('sysparm_country', g_scratchpad.country);
			getCurrencyAjax.getXMLWait();
			var answer = getCurrencyAjax.getAnswer();
			if (answer != '') {
				g_form.setValue('u_base_currency', answer);
			}
		}
		
	},
	
	setFieldsAsReadOnly : function(fieldNamesArray, isReadOnly) {
		for (var fieldCount = 0; fieldCount &lt; fieldNamesArray.length; fieldCount++) {
			g_form.setReadOnly(fieldNamesArray[fieldCount], isReadOnly);
		}
	},
	
	type : 'ssaOppForm'
};

addRenderEventLogged(onLoad_7fcb5f41db601f04cd687deaae9619ab, 'onLoad SSA Opportunity Form','onLoad_7fcb5f41db601f04cd687deaae9619ab');g_event_handlers_onLoad['onLoad_7fcb5f41db601f04cd687deaae9619ab'] = 'SSA Opportunity Form';g_event_handler_ids['onLoad_7fcb5f41db601f04cd687deaae9619ab'] = '0fdc28d6a10dc10006fff67c7cf67538';function onLoad_bfcb5f41db601f04cd687deaae9619ab() {
	var contractType = g_form.getValue('u_contract_type');
	if(contractType.indexOf('App Store') == -1) {
		if (!g_user.hasRole('order_management') &amp;&amp; !g_user.hasRole('sales_operations')) {
			g_form.removeOption('u_contract_type', 'App Store');
			g_form.removeOption('u_contract_type', 'App Store TPP');
		}
		g_form.setVisible('u_credit_card_transaction_id', false);
		g_form.setVisible('u_sap_vendor_id', false);
	} 
	
	if (!g_user.hasRole('order_management')) {
		g_form.setVisible('u_credit_card_transaction_id', false);
		g_form.setVisible('u_sap_vendor_id', false);
	}
}

addRenderEventLogged(onLoad_bfcb5f41db601f04cd687deaae9619ab, 'onLoad Remove AppStore related opty types','onLoad_bfcb5f41db601f04cd687deaae9619ab');g_event_handlers_onLoad['onLoad_bfcb5f41db601f04cd687deaae9619ab'] = 'Remove AppStore related opty types';g_event_handler_ids['onLoad_bfcb5f41db601f04cd687deaae9619ab'] = '1883bd487d65fd006f713577f68073f3';var messages = new GwtMessage();messages.set('Remove AppStore related opportunity types onLoad');function onLoad_ffcb5f41db601f04cd687deaae9619ab() {
	var stage = g_form.getValue('stage');
	var isManager = (g_user.hasRole('order_management'));
	var isSalesOp = (g_user.hasRole('sales_operations') &amp;&amp; !(isManager));
	
	if(isSalesOp &amp;&amp; (stage == 'closed_won')){
		g_form.setReadOnly('stage',true);
	}
	if(isSalesOp &amp;&amp; (stage == 'closed_lost' || stage == 'closed_no_decision') ){
		g_form.removeOption('stage','lead_generation');
		g_form.removeOption('stage','opportunity_qualification');
		g_form.removeOption('stage','Demo');
		g_form.removeOption('stage','business_case');
		g_form.removeOption('stage','pov_scheduled');
		g_form.removeOption('stage','pov_not_required');
		g_form.removeOption('stage','pov_validation_in_process');
		g_form.removeOption('stage','pov_validation_completed');
		g_form.removeOption('stage','verbal_agreement');
		g_form.removeOption('stage','closed_won');
		if(stage != 'closed_lost'){
			g_form.removeOption('stage','closed_lost');
		}
		if(stage != 'closed_no_decision'){
			g_form.removeOption('stage','closed_no_decision');
		}
		
	}
	if(isSalesOp &amp;&amp; (stage == 'sops_admin') ){
		g_form.removeOption('stage','closed_won');
	}
	
	var flag = g_form.getValue('flags');
	var ftpsCount = g_scratchpad.hasFTPSRecord;
	
	var isSalesOperations = g_user.hasRole('sales_operations');
	if(!isSalesOperations &amp;&amp; stage != 'sops_admin') {
		g_form.removeOption('stage', 'sops_admin');
	}
	
	if(!g_user.hasRole('sales_operations') &amp;&amp; g_form.getValue('stage') != 'closed_won') {
		g_form.removeOption('stage', 'closed_won');
	}
	
	
	var isSalesOps = g_user.hasRole('sales_operations');
	var oppType = g_form.getValue('type');
	
	if (!isSalesOps &amp;&amp; (oppType != 'Superseding order')){
		g_form.removeOption('type','Superseding order');
	}
	if (!isSalesOps &amp;&amp; (oppType != 'Renewal')){
		g_form.removeOption('type','Renewal');
	}
	if (!isSalesOps &amp;&amp; (oppType != 'split_adjuster')){
		g_form.removeOption('type',  'split_adjuster');
	}
	if (!isSalesOps &amp;&amp; (oppType != 'Renewal and Upsell')){
		g_form.removeOption('type','Renewal and Upsell');
	}
	
	
	
	if(g_form.getValue('type')!= 'Module Upsell'){
		g_form.removeOption('type','Module Upsell');
	}else{
		
		var opportunityTypesControl = g_form.getControl('type');
		var opportunityTypes = opportunityTypesControl.options;
		for(var i=0;i&lt; opportunityTypes.length;i++){
			
			if(opportunityTypes[i].value == 'Module Upsell'){
				opportunityTypes[i].disabled = true;
			}
		}
	}
	
}

addRenderEventLogged(onLoad_ffcb5f41db601f04cd687deaae9619ab, 'onLoad setStageReadyOnly','onLoad_ffcb5f41db601f04cd687deaae9619ab');g_event_handlers_onLoad['onLoad_ffcb5f41db601f04cd687deaae9619ab'] = 'setStageReadyOnly';g_event_handler_ids['onLoad_ffcb5f41db601f04cd687deaae9619ab'] = '21764c3d13025600daf93227d144b0d2';var messages = new GwtMessage();messages.set('Set the stage as editable for saleOp when the stage is 8');function onLoad_33cb5f41db601f04cd687deaae9619ac() {
}

function calcReturn0(response, args) {
   var answer = response.responseXML.documentElement.getAttribute(&quot;answer&quot;);
   var array = new Array();
   array.push(args);
   calcReturn(answer, response, array);
}

function calcReturn(answer, response, args) {
   var controlName = args[0];
   var myControl = g_form.getControl(controlName);
   var label = &quot;nolabel&quot;;
   var value = answer
   if (answer &amp;&amp; answer.indexOf(&quot;|&quot;) > -1) {
      var parts = answer.split(&quot;|&quot;);
      value = parts[0];
      label = parts[1];
   }
   g_form.setValue(controlName, value, label);
}

addRenderEventLogged(onLoad_33cb5f41db601f04cd687deaae9619ac, 'onLoad calcReturn','onLoad_33cb5f41db601f04cd687deaae9619ac');g_event_handlers_onLoad['onLoad_33cb5f41db601f04cd687deaae9619ac'] = 'calcReturn';g_event_handler_ids['onLoad_33cb5f41db601f04cd687deaae9619ac'] = '2bf56855a9fe156100d09e8a53b63ea9';function onLoad_73cb5f41db601f04cd687deaae9619ac() {
	
	var opType = g_form.getValue('type');
	var isNotClosed = true;
	if(g_form.getValue('stage').indexOf('losed')>=0) isNotClosed = false;
		
	if(isNotClosed &amp;&amp; opType == 'Renewal' ){
		var encodedQuery = 'name=sales_opportunity^element=u_contract_status^dependent_value=Renewal^ORdependent_valueISEMPTY^ORDERBYsequence';
		var ga = new GlideAjax('GetContractStatus');
		ga.addParam('sysparm_name', 'getContractStatus');
		ga.addParam('sysparm_encoded_query', encodedQuery);
		ga.getXML(setContractStatus);
	}else{
		disableSignedComplete();
	}
}
function setContractStatus(response) {
	var opConStatus = g_form.getValue('u_contract_status');
	g_form.clearOptions('u_contract_status');
	g_form.addOption('u_contract_status', '','--None--');
	
	var resultOutput = response.responseXML.getElementsByTagName(&quot;result&quot;);
	var choiceLab = resultOutput[0].getAttribute(&quot;label&quot;);
	var choiceVal = resultOutput[0].getAttribute(&quot;value&quot;);
	if(choiceVal != &quot;&quot;){
		var splitChoiceLabel = choiceLab.split(&quot;,&quot;);
		var splitChoiceValue = choiceVal.split(&quot;,&quot;);
		for(var i=0;i&lt;splitChoiceLabel.length;i++){
			if(splitChoiceLabel[i] != &quot;&quot;){
				g_form.addOption('u_contract_status', splitChoiceValue[i], splitChoiceLabel[i]);
			}
		}
	}
	
	if (opConStatus != ''){
		g_form.setValue('u_contract_status', opConStatus);
	}
	
	disableSignedComplete();
	
}
function disableSignedComplete(){
	
	if(!g_user.hasRole('sales_operations')){
		var editableFields = g_form.getEditableFields();
		if (editableFields.indexOf(&quot;u_contract_status&quot;) > -1) {
			var opportunityOrderFControl = g_form.getControl('u_contract_status');
			var OrderFormStatuses = opportunityOrderFControl.options;
			for(var i=0;i&lt; OrderFormStatuses.length;i++){
				if(OrderFormStatuses[i].value == 'Signed Complete sent to OM'){
					OrderFormStatuses[i].disabled = true;
				}
			}
		}
	}
}

addRenderEventLogged(onLoad_73cb5f41db601f04cd687deaae9619ac, 'onLoad Set contract status onload','onLoad_73cb5f41db601f04cd687deaae9619ac');g_event_handlers_onLoad['onLoad_73cb5f41db601f04cd687deaae9619ac'] = 'Set contract status onload';g_event_handler_ids['onLoad_73cb5f41db601f04cd687deaae9619ac'] = '33cb5ab74d02810006ffcaf70b76822c';function onLoad_b3cb5f41db601f04cd687deaae9619ac() {
	if(g_form.getValue(&quot;type&quot;) == 'Renewal'){
		var nna = g_form.getValue(&quot;u_usd_net_new_acv&quot;);
	   var ren_cat = '';
	   if(nna == 0){
		   ren_cat = &quot;Straight Renewal&quot;;
		   g_form.setValue(&quot;u_renewal_category&quot;, ren_cat);
	   }else if(nna > 0){
		   ren_cat = &quot;Renewal with Upsell&quot;;
		   g_form.setValue(&quot;u_renewal_category&quot;, ren_cat);
	   }else if(nna &lt; 0){
		   ren_cat = &quot;Renewal with Downsell&quot;;
		   g_form.setValue(&quot;u_renewal_category&quot;, ren_cat);
	   }
		var ga = new GlideAjax('UpdateRenewalCategoryAjax');
		ga.addParam('sysparm_name','updateRenewalCategory');
		ga.addParam('sysparm_sys_id', g_form.getUniqueValue());
		ga.addParam('sysparm_ren_cat', ren_cat);
		ga.getXML(updateRenCategory); 
	}
   
}
function updateRenCategory(response) {
	var updateData = response.responseXML.documentElement.getAttribute(&quot;answer&quot;);
}

addRenderEventLogged(onLoad_b3cb5f41db601f04cd687deaae9619ac, 'onLoad Update Renewal Category on Oppty','onLoad_b3cb5f41db601f04cd687deaae9619ac');g_event_handlers_onLoad['onLoad_b3cb5f41db601f04cd687deaae9619ac'] = 'Update Renewal Category on Oppty';g_event_handler_ids['onLoad_b3cb5f41db601f04cd687deaae9619ac'] = '38878a47dbe3d6004a54f4bbaf9619a6';function onLoad_f3cb5f41db601f04cd687deaae9619ac() {
   
	if(!g_scratchpad.comp_isAppliedType) {
		return;
	}
	
	
	if(document != null){
		if(document.getElementById('sales_opportunity.u_win_loss_dead_notes') != null ){
			document.getElementById('sales_opportunity.u_win_loss_dead_notes').placeholder = &quot;Briefly describe the reasons the opportunity closed as won, lost, or no decision.&quot;;
			document.getElementById('sales_opportunity.u_competitive_notes').placeholder = &quot;Describe competitive dynamics, environment, challenges, etc.&quot;;	
		}
	}
	
	if(g_scratchpad.comp_isOther) {
		g_form.setMandatory('u_other_competitor', true);
	}
}

addRenderEventLogged(onLoad_f3cb5f41db601f04cd687deaae9619ac, 'onLoad Competition fields onLoad','onLoad_f3cb5f41db601f04cd687deaae9619ac');g_event_handlers_onLoad['onLoad_f3cb5f41db601f04cd687deaae9619ac'] = 'Competition fields onLoad';g_event_handler_ids['onLoad_f3cb5f41db601f04cd687deaae9619ac'] = '3f6ec08337d34a80b4ca1f7543990e48';var messages = new GwtMessage();messages.set('Set competition related fields onLoad');function onLoad_37cb5f41db601f04cd687deaae9619ac() {
	try {
		if ( getParmVal('src') == &quot;activity&quot; &amp;&amp; getParmVal('type') == &quot;increase&quot; ) {
			updateActivityWithIncreaseValue();
		}
		else if ( getParmVal('src') == &quot;activity&quot; &amp;&amp; getParmVal('type') == &quot;lineitem&quot; ) {
			updateActivityWithAddLine();
		}
	} catch (e) {
		console.log (&quot;Opportunity onLoad_37cb5f41db601f04cd687deaae9619ac : Exception in Update Activity - onLoad_37cb5f41db601f04cd687deaae9619ac: &quot;+ e.message);
	}
}
function updateActivityWithIncreaseValue() {
	try {
		var ga = new GlideAjax(&quot;UpdateOpportunityAjax&quot;);
		ga.addParam(&quot;sysparm_name&quot;, &quot;associateOpportunity&quot;);
		ga.addParam(&quot;sysparm_opp&quot;, getParmVal('oppid'));
		ga.addParam(&quot;sysparm_activity&quot;, getParmVal('actid'));
		ga.getXML(getData);
	} catch (e) {
		console.log (&quot;Opportunity onLoad_37cb5f41db601f04cd687deaae9619ac : Exception in Update Activity - updateActivityWithIncreaseValue: &quot;+ e.message);
	}
}
function updateActivityWithAddLine() {
	try {
		var ga = new GlideAjax(&quot;UpdateOpportunityAjax&quot;);
		ga.addParam(&quot;sysparm_name&quot;, &quot;associateOpportunityWithAddLine&quot;);
		ga.addParam(&quot;sysparm_opp&quot;, getParmVal('oppid'));
		ga.addParam(&quot;sysparm_activity&quot;, getParmVal('actid'));
		ga.getXML(getData);
	} catch (e) {
		console.log (&quot;Opportunity onLoad_37cb5f41db601f04cd687deaae9619ac : Exception in Update Activity - updateActivityWithAddLine: &quot;+ e.message);
	}
}
function getData(response){
	
}
function getParmVal(name) {
	var url = document.URL.parseQuery();
	if(url[name]){
		return decodeURI(url[name]);
	}
	else{
		return;
	}
}

addRenderEventLogged(onLoad_37cb5f41db601f04cd687deaae9619ac, 'onLoad Update Activity','onLoad_37cb5f41db601f04cd687deaae9619ac');g_event_handlers_onLoad['onLoad_37cb5f41db601f04cd687deaae9619ac'] = 'Update Activity';g_event_handler_ids['onLoad_37cb5f41db601f04cd687deaae9619ac'] = '466e0f4f132d1600ad02b2566144b028';var messages = new GwtMessage();messages.set('Update activity with its Meeting Update as \&quot;Accepted\&quot; if this opportunity is associated to Activity.\r', 'Update activity with its Meeting Update as \&quot;Accepted\&quot; if this opportunity is associated to Activity.');function onLoad_77cb5f41db601f04cd687deaae9619ac() {
		if(g_form.isNewRecord()&amp;&amp; g_form.getValue('account')!=''){
		var forecastStage = 'closed_won,closed_lost,closed_no_decision,sops_admin';
		var opportunityType= 'new_business,Renewal,Module Upsell,License Upsell';
		var grOpportunity = new GlideRecord('sales_opportunity');
		grOpportunity.addQuery('account',g_form.getValue('account'));
		grOpportunity.addQuery('stage', 'NOT IN',forecastStage);
		grOpportunity.addQuery('type','IN',opportunityType);
		grOpportunity.query();
		if(grOpportunity.next()){
			showOpportunityPopup();
		}
	}
}
function showOpportunityPopup() {
	var width = document.body.clientWidth;
	console.log(&quot; document width : &quot;+ width);
	var num = g_form.getValue('account');
	var gdw = new GlideDialogWindow('opportunity_creation_list');
	gdw.setTitle('DUPLICATE WARNING:  One of these opportunities may be a duplicate.  Select the opportunity or click continue to create new opportunity.');
	gdw.setSize(250,300);
	var activity_number = g_form.getUniqueValue();
	gdw.setPreference(&quot;sysparm_account_id&quot;, num);
	gdw.setPreference(&quot;sysparm_activity_num&quot;, activity_number);
	gdw.setPreference(&quot;sysparm_doc_width&quot;, width);
	gdw.render();
}

addRenderEventLogged(onLoad_77cb5f41db601f04cd687deaae9619ac, 'onLoad Check for Opportunity Creation','onLoad_77cb5f41db601f04cd687deaae9619ac');g_event_handlers_onLoad['onLoad_77cb5f41db601f04cd687deaae9619ac'] = 'Check for Opportunity Creation';g_event_handler_ids['onLoad_77cb5f41db601f04cd687deaae9619ac'] = '495237be4f1fc6401f77a50f0310c795';function onLoad_b7cb5f41db601f04cd687deaae9619ac() {
   if(g_form.getValue('u_opportunity_link_reason').toString() != 'account_consolidation'){
	    g_form.removeOption('u_renewal_status', 'Account Consolidation');
   }else{
	   g_form.addOption('u_renewal_status', 'Account Consolidation');
   }
}

addRenderEventLogged(onLoad_b7cb5f41db601f04cd687deaae9619ac, 'onLoad Hide AccntConsolidatn in Renewal Status','onLoad_b7cb5f41db601f04cd687deaae9619ac');g_event_handlers_onLoad['onLoad_b7cb5f41db601f04cd687deaae9619ac'] = 'Hide AccntConsolidatn in Renewal Status';g_event_handler_ids['onLoad_b7cb5f41db601f04cd687deaae9619ac'] = '736fc995dbf6c300a3ab56a8dc961982';function onLoad_f7cb5f41db601f04cd687deaae9619ac() {
	
	var quoteType = g_form.getValue('type');
	var currentStage = g_form.getValue('stage');
	var currentStatus = g_form.getValue('u_contract_status');
	if((currentStage != 'closed_won') &amp;&amp; (currentStage != 'closed_lost') &amp;&amp; (currentStage != 'closed_no_decision'))
		{
		if(currentStatus == ''){
			if((quoteType == 'new_business') || (quoteType == 'License Upsell')){
				g_form.setValue('u_contract_status', 'Pre-Negotiation');
			}
		}
	}
	
}

addRenderEventLogged(onLoad_f7cb5f41db601f04cd687deaae9619ac, 'onLoad onLoad Default to Pre Negotiation','onLoad_f7cb5f41db601f04cd687deaae9619ac');g_event_handlers_onLoad['onLoad_f7cb5f41db601f04cd687deaae9619ac'] = 'onLoad Default to Pre Negotiation';g_event_handler_ids['onLoad_f7cb5f41db601f04cd687deaae9619ac'] = '88605873370bf900b4ca1f7543990e25';function onLoad_3bcb5f41db601f04cd687deaae9619ac() {
	
	var optyType = g_form.getValue('type');
	var contracttype = g_form.getValue('u_contract_type');
	if(contracttype == 'undefined'){
		if(contracttype.indexOf('LMS') == -1){
			if (!g_user.hasRole('order_management') &amp;&amp; !g_user.hasRole('sales_operations')) {
				g_form.removeOption('u_contract_type', 'LMS');	
			}
		}
	}
	else{
		if(contracttype.indexOf('App Store') == -1) {
			if (!g_user.hasRole('order_management') &amp;&amp; !g_user.hasRole('sales_operations')) {
				g_form.removeOption('u_contract_type', 'App Store');
				g_form.removeOption('u_contract_type', 'App Store TPP');
			}
		}
		if(contracttype.indexOf('LMS') == -1){
			if (!g_user.hasRole('order_management') &amp;&amp; !g_user.hasRole('sales_operations')) {
				g_form.removeOption('u_contract_type', 'LMS');	
			}
		}	
	}
}

addRenderEventLogged(onLoad_3bcb5f41db601f04cd687deaae9619ac, 'onLoad Hide Contract Type','onLoad_3bcb5f41db601f04cd687deaae9619ac');g_event_handlers_onLoad['onLoad_3bcb5f41db601f04cd687deaae9619ac'] = 'Hide Contract Type';g_event_handler_ids['onLoad_3bcb5f41db601f04cd687deaae9619ac'] = '88d8926d4f2b4e40e07d49cf0310c7c5';function onLoad_7bcb5f41db601f04cd687deaae9619ac() {
    var useLineItem = g_form.getValue('u_use_line_items');
	var productSysId = g_scratchpad.productSysId;
    if(useLineItem == 'true'){
        g_form.setValue('product',productSysId);
    }
}

addRenderEventLogged(onLoad_7bcb5f41db601f04cd687deaae9619ac, 'onLoad SSA Use Line Items OnLoad','onLoad_7bcb5f41db601f04cd687deaae9619ac');g_event_handlers_onLoad['onLoad_7bcb5f41db601f04cd687deaae9619ac'] = 'SSA Use Line Items OnLoad';g_event_handler_ids['onLoad_7bcb5f41db601f04cd687deaae9619ac'] = '90da25e760e6050006ff177ed89cae17';addRenderEventLogged(function() {
var onLoad_bbcb5f41db601f04cd687deaae9619ac = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 &quot;use strict&quot;; 
function onLoad_bbcb5f41db601f04cd687deaae9619ac() {
   sessionStorage.setItem('disableButton', 'false');
}

 return onLoad_bbcb5f41db601f04cd687deaae9619ac.bind(null)})(ScopedGlideAjaxGenerator(&quot;x_snc_salescrm&quot;),ScopedGFormGenerator(&quot;x_snc_salescrm&quot;),ScopedGlideDialogWindowGenerator(&quot;x_snc_salescrm&quot;),null,null,null,null,null,null,null,null,null);
g_event_handlers_onLoad['onLoad_bbcb5f41db601f04cd687deaae9619ac'] = 'setSessionStorage';
g_event_handler_ids['onLoad_bbcb5f41db601f04cd687deaae9619ac'] = '9eb38cfedb19478089a4ff9aae961976';
onLoad_bbcb5f41db601f04cd687deaae9619ac();
},'setSessionStorage','onLoad_bbcb5f41db601f04cd687deaae9619ac');
addRenderEventLogged(function() {
var onLoad_fbcb5f41db601f04cd687deaae9619ac = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 &quot;use strict&quot;; 
function onLoad_fbcb5f41db601f04cd687deaae9619ac() {
	if(g_form.getValue('u_contract_type') == 'App Store' || g_form.getValue('u_contract_type') == 'App Store TPP' || g_form.getValue('u_contract_type') == 'LMS'){
   g_form.hideRelatedList('x_snc_salescrm_cpq_quote.opportunity');
	}else if (g_form.getValue('u_contract_type') != 'App Store' || g_form.getValue('u_contract_type') != 'App Store TPP' || g_form.getValue('u_contract_type') == 'LMS'){
		g_form.hideRelatedList('sales_quote.opportunity');
	}
}

 return onLoad_fbcb5f41db601f04cd687deaae9619ac.bind(null)})(ScopedGlideAjaxGenerator(&quot;x_snc_salescrm&quot;),ScopedGFormGenerator(&quot;x_snc_salescrm&quot;),ScopedGlideDialogWindowGenerator(&quot;x_snc_salescrm&quot;),null,null,null,null,null,null,null,null,null);
g_event_handlers_onLoad['onLoad_fbcb5f41db601f04cd687deaae9619ac'] = 'Hide CPQ Quote Related List for AppStore';
g_event_handler_ids['onLoad_fbcb5f41db601f04cd687deaae9619ac'] = 'b34f1453db418b0089a4ff9aae9619ef';
onLoad_fbcb5f41db601f04cd687deaae9619ac();
},'Hide CPQ Quote Related List for AppStore','onLoad_fbcb5f41db601f04cd687deaae9619ac');
function onLoad_3fcb5f41db601f04cd687deaae9619ac() {
	
	var currencyCodesWithoutPriceBook = g_scratchpad.excludedCurrencies;
	
	while(currencyCodesWithoutPriceBook.length!=0){
		if(currencyCodesWithoutPriceBook.indexOf(',') > 0 ) {
			g_form.removeOption('u_base_currency',currencyCodesWithoutPriceBook.substring(0, currencyCodesWithoutPriceBook.indexOf(',')));
			currencyCodesWithoutPriceBook = currencyCodesWithoutPriceBook.substring(currencyCodesWithoutPriceBook.indexOf(',')+1);
		}else{
			g_form.removeOption('u_base_currency',currencyCodesWithoutPriceBook);
			break;
		}
	}
}

addRenderEventLogged(onLoad_3fcb5f41db601f04cd687deaae9619ac, 'onLoad Hide Currency codes with no price book','onLoad_3fcb5f41db601f04cd687deaae9619ac');g_event_handlers_onLoad['onLoad_3fcb5f41db601f04cd687deaae9619ac'] = 'Hide Currency codes with no price book';g_event_handler_ids['onLoad_3fcb5f41db601f04cd687deaae9619ac'] = 'bf515d0960f8d9c006ff177ed89cae5a';function onLoad_fbcb5f41db601f04cd687deaae9619c5() {
	if(!g_form.getValue('account')) {
		return true;
	}
	var ga = new GlideAjax('SSAOpportunityAjax');
	ga.addParam('sysparm_name', 'getAcctInfo');
	ga.addParam('sysparm_acctId', g_form.getValue('account'));
	ga.getXML(responseParse);
}
function responseParse(response) {
	var result = response.responseXML.getElementsByTagName(&quot;result&quot;);
	var isMsp = result[0].getAttribute(&quot;isMsp&quot;);
	var repId = result[0].getAttribute(&quot;repId&quot;);
	var trtyId = result[0].getAttribute(&quot;trtyId&quot;);
	var acctParentId = result[0].getAttribute(&quot;parent&quot;);
	var psTrtyId = result[0].getAttribute(&quot;accPSTer&quot;);
	if(!g_form.isNewRecord()) {
		if(isMsp == 'true' &amp;&amp; !g_user.hasRole('sales_operations')) {
			g_form.setReadOnly('u_msp', true);
		}
	} else {
		g_form.setValue('u_ps_territory', psTrtyId);
		if(isMsp == 'false') {
			g_form.setValue('u_territory', trtyId);
		} else if (isMsp == 'true') {
			g_form.setValue('u_msp_territory', trtyId);
			if (acctParentId) {
				g_form.setValue('u_msp', acctParentId);
			} else {
				g_form.setValue('u_msp', g_form.getValue('account'));
			}
			if(!g_user.hasRole('sales_operations')) {
				g_form.setReadOnly('u_msp', true);
			}
		}
	}
}

addRenderEventLogged(onLoad_fbcb5f41db601f04cd687deaae9619c5, 'onLoad Territory fields onLoad','onLoad_fbcb5f41db601f04cd687deaae9619c5');g_event_handlers_onLoad['onLoad_fbcb5f41db601f04cd687deaae9619c5'] = 'Territory fields onLoad';g_event_handler_ids['onLoad_fbcb5f41db601f04cd687deaae9619c5'] = 'bfb03f6c4fabca40e07d49cf0310c7c5';var messages = new GwtMessage();messages.set('Populate fields based on account if this is a new record');function onLoad_3fcb5f41db601f04cd687deaae9619c5() {
}
function generateAlert(title, message) {
	var gdw = new GlideDialogWindow('glide_warn', true);
	gdw.setTitle(title);
	gdw.setPreference('title', message);
	gdw.render();	
}

addRenderEventLogged(onLoad_3fcb5f41db601f04cd687deaae9619c5, 'onLoad Generate Alert','onLoad_3fcb5f41db601f04cd687deaae9619c5');g_event_handlers_onLoad['onLoad_3fcb5f41db601f04cd687deaae9619c5'] = 'Generate Alert';g_event_handler_ids['onLoad_3fcb5f41db601f04cd687deaae9619c5'] = 'c8b72971c3363000ad408039dfba8fc5';function onLoad_7fcb5f41db601f04cd687deaae9619c5() {
	
	if(g_form.getValue('sales_partner') == null || g_form.getValue('sales_partner') == ''){
		g_form.setReadOnly('u_deal_registration',true);
	}
	if(!g_user.hasRole('sales_operations') &amp;&amp;  !g_user.hasRole('prm_integration') &amp;&amp; !g_user.hasRole('sales')){
		g_form.setReadOnly('u_deal_registration',true);
		g_form.setReadOnly('u_deal_registration.u_deal_registration_type',true);
	}
	
	g_form.setReadOnly('u_deal_registration.u_product',true);
	g_form.setReadOnly('u_deal_registration.u_quantity',true);
   
}

addRenderEventLogged(onLoad_7fcb5f41db601f04cd687deaae9619c5, 'onLoad Oppty Deal Reg fields Readonly rules','onLoad_7fcb5f41db601f04cd687deaae9619c5');g_event_handlers_onLoad['onLoad_7fcb5f41db601f04cd687deaae9619c5'] = 'Oppty Deal Reg fields Readonly rules';g_event_handler_ids['onLoad_7fcb5f41db601f04cd687deaae9619c5'] = 'cfac9fa7458011406f7173c5d352323c';function onLoad_bfcb5f41db601f04cd687deaae9619c5() {
	
	if(g_form.getValue('u_secodary_sales_partner') == null || g_form.getValue('u_secodary_sales_partner') == ''){
		g_form.setReadOnly('u_secondary_deal_registraion_n',true);
	}
	
	if(!g_user.hasRole('sales_operations') &amp;&amp;  !g_user.hasRole('prm_integration')){
		g_form.setReadOnly('u_secondary_deal_registraion_n',true);
		g_form.setReadOnly('u_secondary_deal_registraion_n.u_deal_registration_type',true);
	}
	
	g_form.setReadOnly('u_secondary_deal_registraion_n.u_product',true);
	g_form.setReadOnly('u_secondary_deal_registraion_n.u_quantity',true);
   
}

addRenderEventLogged(onLoad_bfcb5f41db601f04cd687deaae9619c5, 'onLoad Secondary Deal Reg fields Readonly rules','onLoad_bfcb5f41db601f04cd687deaae9619c5');g_event_handlers_onLoad['onLoad_bfcb5f41db601f04cd687deaae9619c5'] = 'Secondary Deal Reg fields Readonly rules';g_event_handler_ids['onLoad_bfcb5f41db601f04cd687deaae9619c5'] = 'd670fcdc37afb140b4ca1f7543990e36';function onLoad_ffcb5f41db601f04cd687deaae9619c5() {
	if($$('#tabs2_list').length>0){
		var footer = $$('div.formFooter')[0];
		$$('#related_lists_wrapper')[0].insert({after:footer});
	}else {
			var footer = $$('div.formFooter')[0];
			$$('#page_timing_div')[0].insert({before:footer});		
	}
	
}

addRenderEventLogged(onLoad_ffcb5f41db601f04cd687deaae9619c5, 'onLoad Add shark footer','onLoad_ffcb5f41db601f04cd687deaae9619c5');g_event_handlers_onLoad['onLoad_ffcb5f41db601f04cd687deaae9619c5'] = 'Add shark footer';g_event_handler_ids['onLoad_ffcb5f41db601f04cd687deaae9619c5'] = 'd7a267ba6f97a100188e360d5d3ee49c';function onLoad_33cb5f41db601f04cd687deaae9619c6() {
	if(!g_form.isNewRecord()){
		g_form.setReadOnly('u_did_marketing_help', 'true');
	}
   
}

addRenderEventLogged(onLoad_33cb5f41db601f04cd687deaae9619c6, 'onLoad Hide Did marketing help','onLoad_33cb5f41db601f04cd687deaae9619c6');g_event_handlers_onLoad['onLoad_33cb5f41db601f04cd687deaae9619c6'] = 'Hide Did marketing help';g_event_handler_ids['onLoad_33cb5f41db601f04cd687deaae9619c6'] = 'e5f510b3db2b8740a3ab56a8dc961902';function onLoad_73cb5f41db601f04cd687deaae9619c6() {
	
	g_form.addOption('u_data_center','More','--More--');
	var currentDataCenter = g_form.getValue('u_data_center');
	var specificTerms = [];
	
	
	if(g_scratchpad.specialDataCenter){
		for(var j = 0; j &lt; g_scratchpad.specialDataCenter.length; j++) {
			specificTerms.push(g_scratchpad.specialDataCenter[j].value.toString());
		}
		if(specificTerms.indexOf(currentDataCenter) == -1){
			for(var i = 0; i &lt; g_scratchpad.specialDataCenter.length; i++) {
				g_form.removeOption('u_data_center', g_scratchpad.specialDataCenter[i].value);
			}
		}
		else{
			g_form.removeOption('u_data_center','More');
			g_form.addOption('u_data_center','Less','--Less--');
		}
		
	}
}

addRenderEventLogged(onLoad_73cb5f41db601f04cd687deaae9619c6, 'onLoad Data Center Customized Choices','onLoad_73cb5f41db601f04cd687deaae9619c6');g_event_handlers_onLoad['onLoad_73cb5f41db601f04cd687deaae9619c6'] = 'Data Center Customized Choices';g_event_handler_ids['onLoad_73cb5f41db601f04cd687deaae9619c6'] = 'e61ed73f1388a2007b9e38fed144b078';function onLoad_b3cb5f41db601f04cd687deaae9619c6() {
  var isSalesOps = g_user.hasRole('sales_operations');
  var type = g_form.getValue('type');
  if (!isSalesOps &amp;&amp; (type == 'Renewal')){
    g_form.removeOption('stage', 'closed_lost');
  }  
}

addRenderEventLogged(onLoad_b3cb5f41db601f04cd687deaae9619c6, 'onLoad Remove close lost option on renewals','onLoad_b3cb5f41db601f04cd687deaae9619c6');g_event_handlers_onLoad['onLoad_b3cb5f41db601f04cd687deaae9619c6'] = 'Remove close lost option on renewals';g_event_handler_ids['onLoad_b3cb5f41db601f04cd687deaae9619c6'] = 'ea95ab12e4aaa4006f7199fd507ebbaf';function onLoad_f3cb5f41db601f04cd687deaae9619c6() {
	var i=0;
	var submitSummary = document.getElementsByClassName(&quot;linked list2_action_list&quot;);
	for(i=0;i&lt;submitSummary.length;i++) {
		submitSummary[i].style.font = 'bold 11px Arial';
		submitSummary[i].style.color = '#EEEEEE';
		submitSummary[i].style.color =  '#000000';
		submitSummary[i].style.padding = '4px 6px 4px 6px';
		submitSummary[i].style.border = '2px solid rgb(25, 28, 31)';
		submitSummary[i].style.backgroundColor = '#f2f2f2';
	}
}

addRenderEventLogged(onLoad_f3cb5f41db601f04cd687deaae9619c6, 'onLoad Display Button for link Submit Summary','onLoad_f3cb5f41db601f04cd687deaae9619c6');g_event_handlers_onLoad['onLoad_f3cb5f41db601f04cd687deaae9619c6'] = 'Display Button for link Submit Summary';g_event_handler_ids['onLoad_f3cb5f41db601f04cd687deaae9619c6'] = 'ed95a10413a96a80e0dcb2566144b0fb';
addRenderEvent( function() { function onChange_sales_opportunity_account_0(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue == '') {
		return;
	}
			var account = g_form.getValue('account');
			var forecastStage = 'closed_won,closed_lost,closed_no_decision,sops_admin';
			var opportunityType= 'new_business,Renewal,Module Upsell,License Upsell';
			
			
			var gaOpportunity = new GlideAjax('CheckForOpportunities');
			gaOpportunity.addParam('sysparm_name','oppFound');
			gaOpportunity.addParam('sysparm_account',account);
			gaOpportunity.addParam('sysparm_forecastStage',forecastStage);
			gaOpportunity.addParam('sysparm_oppType',opportunityType);
			gaOpportunity.getXMLWait();
			
			if(gaOpportunity.getAnswer()=='true')
				showOpportunityPopup();
			
		}
		
		function showOpportunityPopup() {
			var width = document.body.clientWidth;
			console.log(&quot; document width : &quot;+ width);
			var num = g_form.getValue('account');
			var gdw = new GlideDialogWindow('opportunity_creation_list');
			gdw.setTitle('DUPLICATE WARNING:  One of these opportunities may be a duplicate.  Select the opportunity or click continue to create new opportunity.');
			gdw.setSize(250,300);
			var activity_number = g_form.getUniqueValue();
			gdw.setPreference(&quot;sysparm_account_id&quot;, num);
			gdw.setPreference(&quot;sysparm_activity_num&quot;, activity_number);
			gdw.setPreference(&quot;sysparm_doc_width&quot;, width);
			gdw.render();
		}

var thisWidget = document.getElementById('sales_opportunity.account');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_account_0',onChange_sales_opportunity_account_0, 'sales_opportunity.account');g_event_handlers_onChange['onChange_sales_opportunity_account_0'] = 'Account change';g_event_handler_ids['onChange_sales_opportunity_account_0'] = '0190f12e37d3c680b4ca1f7543990e96';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_end_customer_1(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading) {
      return;
   }
  if( newValue == ''){
	 var ga = new GlideAjax('SSAOpportunityAjax');
	 ga.addParam('sysparm_name', 'clearFieldSales');
	 ga.addParam('sysparm_opty', g_form.getValue('number')); 
	 ga.getXML();
		
  }
   
}

var thisWidget = document.getElementById('sales_opportunity.u_end_customer');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_end_customer_1',onChange_sales_opportunity_u_end_customer_1, 'sales_opportunity.u_end_customer');g_event_handlers_onChange['onChange_sales_opportunity_u_end_customer_1'] = 'Field rep change on end customer';g_event_handler_ids['onChange_sales_opportunity_u_end_customer_1'] = '02cdecabdb12c780a3ab56a8dc961997';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_contract_type_2(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || newValue === '') {
      return;
   }
   ssaOppForm.onContractTypeChange(control, oldValue, newValue, isLoading, isTemplate);  
}

var thisWidget = document.getElementById('sales_opportunity.u_contract_type');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_contract_type_2',onChange_sales_opportunity_u_contract_type_2, 'sales_opportunity.u_contract_type');g_event_handlers_onChange['onChange_sales_opportunity_u_contract_type_2'] = 'CPQ  - SSA Contract Type Changes';g_event_handler_ids['onChange_sales_opportunity_u_contract_type_2'] = '070ae1c2db41430089a4ff9aae961942';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_type_3(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue == '') {
		return;
	}
	var currentStatus = g_form.getValue('u_contract_status');
	var choiceLabel = g_form.getOption('u_contract_status', currentStatus).text;
	
	g_form.setDisplay('u_renewal_category', newValue == 'Renewal');
	
	var ga = new GlideAjax('OpportunityTypeChanges');
	ga.addParam('sysparm_name','valueLabel');
	ga.addParam('sysparm_newValue',newValue);
	ga.getXMLWait();
	
	g_form.clearOptions('u_contract_status');
	g_form.addOption('u_contract_status','','--None--');
	
	var result = JSON.parse(ga.getAnswer());
	
	var keys = Object.keys(result);
	for(var i=0;i&lt;keys.length;i++){
		var key = keys[i];
		g_form.addOption('u_contract_status', result[key],key);
	}
	
	
	if(currentStatus=='' &amp;&amp; (newValue == 'new_business' || newValue == 'License Upsell')){
		g_form.setValue('u_contract_status', 'Pre-Negotiation');
	}else{
		g_form.setValue('u_contract_status', currentStatus, choiceLabel);
	}
	
	if(newValue == 'split_adjuster'){
		g_form.setValue('u_use_line_items','false');
		g_form.setValue('product', '1b3a9cac60b2850006ff177ed89cae77');
	}
}

var thisWidget = document.getElementById('sales_opportunity.type');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_type_3',onChange_sales_opportunity_type_3, 'sales_opportunity.type');g_event_handlers_onChange['onChange_sales_opportunity_type_3'] = 'Opportunity Type Changes';g_event_handler_ids['onChange_sales_opportunity_type_3'] = '10a0219961ca010006ff8193c960e536';g_event_handlers.push(thisHandler);});var messages = new GwtMessage();messages.set('Show/Hide renewal category based on type.\r', 'Show/Hide renewal category based on type.');messages.set('Filter Contract Status based on type.');addRenderEvent( function() { function onChange_sales_opportunity_u_territory_4(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || ssaOppForm.isProcessingAccountChange) {
		return;
	}
	
	if(!g_form.isNewRecord()) {
		try {
			var opptyID = g_form.getUniqueValue();
			var currPSTerr = g_form.getValue('u_ps_territory');
			var newPSTerr = getPSTerritory(newValue, opptyID);
				if (newPSTerr != '' &amp;&amp; newPSTerr != null) {
					g_form.setValue('u_ps_territory', newPSTerr);
				}
			}catch(e){
				jslog(&quot;Error updating PS Territory on Opportunity. Error: &quot; + e.message);
			}
		}
		
	}
	
	function getPSTerritory(territory, opptyID){
		var ga = new GlideAjax('GetPSTerritoryAjax');
		ga.addParam('sysparm_name','getPSTerritory');
		ga.addParam('sysparm_territory',territory);
		ga.addParam('sysparm_opptyID',opptyID);
		ga.getXMLWait();
		return ga.getAnswer();
	}

var thisWidget = document.getElementById('sales_opportunity.u_territory');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_territory_4',onChange_sales_opportunity_u_territory_4, 'sales_opportunity.u_territory');g_event_handlers_onChange['onChange_sales_opportunity_u_territory_4'] = 'Updates on Territory changes';g_event_handler_ids['onChange_sales_opportunity_u_territory_4'] = '173243a7cd2561004ecef6b44ac08ecd';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_order_term_start_date_5(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue == '') {
		return;
	}
	
	if(!g_form.isNewRecord()){
		if(g_scratchpad.u_order_term_start_date != g_form.getValue('u_order_term_start_date')){
			
var message = 'Changing the term or dates will reset the term/dates on all the related line items on save/submit. ';
			g_form.addInfoMessage(message);
			
			g_form.hideFieldMsg('u_term', true);
			g_form.showFieldMsg('u_term', message,'info');
		}
	}	
}

var thisWidget = document.getElementById('sales_opportunity.u_order_term_start_date');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_order_term_start_date_5',onChange_sales_opportunity_u_order_term_start_date_5, 'sales_opportunity.u_order_term_start_date');g_event_handlers_onChange['onChange_sales_opportunity_u_order_term_start_date_5'] = 'On change of start date show message';g_event_handler_ids['onChange_sales_opportunity_u_order_term_start_date_5'] = '2d4e74ef41e8250006ff035e3ab2cc2e';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_primary_competitor_6(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue == '') {
		return;
	}
	var ga = new GlideAjax('CompetitionAjax');
	ga.addParam('sysparm_name', 'getPrimaryCompetitor');
	ga.addParam('competitor', newValue);
	ga.getXML(responseParse);
}
function responseParse(response) {
	var primaryCompetitor = response.responseXML.documentElement.getAttribute(&quot;answer&quot;);
	if(primaryCompetitor.substring(0, 5) == 'Other' &amp;&amp; primaryCompetitor.indexOf('Customer Will Not Disclose') == -1) {
		g_form.setMandatory('u_other_competitor', true);
	} else {
		g_form.setMandatory('u_other_competitor', false);
	}
}

var thisWidget = document.getElementById('sales_opportunity.u_primary_competitor');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_primary_competitor_6',onChange_sales_opportunity_u_primary_competitor_6, 'sales_opportunity.u_primary_competitor');g_event_handlers_onChange['onChange_sales_opportunity_u_primary_competitor_6'] = 'Set Other Competition mandatory';g_event_handler_ids['onChange_sales_opportunity_u_primary_competitor_6'] = '3a9b239a379b8680b4ca1f7543990e77';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_type_7(control, oldValue, newValue, isLoading, isTemplate) {
	
	if(isLoading || newValue==&quot;&quot; || newValue == oldValue){
		return;
	}
	
	if(newValue.indexOf('App Store') == -1) {
		g_form.setVisible('u_credit_card_transaction_id', false);
	} else {
		if (!g_user.hasRole('order_management')) {
			g_form.setVisible('u_credit_card_transaction_id', false);	
		} else {
			g_form.setVisible('u_credit_card_transaction_id', true);	
		}
	}
   
}

var thisWidget = document.getElementById('sales_opportunity.type');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_type_7',onChange_sales_opportunity_type_7, 'sales_opportunity.type');g_event_handlers_onChange['onChange_sales_opportunity_type_7'] = 'Type app store show transaction id';g_event_handler_ids['onChange_sales_opportunity_type_7'] = '3af182ab37c08600de6cd8d543990e8d';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_type_8(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || newValue == '') {
      return;
   }
	if(newValue == &quot;Renewal&quot;)
	{
		g_form.setValue('u_contract_status',&quot;&quot;);
		g_form.setMandatory('u_contract_status',false);
	}
	
	if(!g_user.hasRole('sales_operations')){
		var editableFields = g_form.getEditableFields();
		if (editableFields.indexOf(&quot;u_contract_status&quot;) > -1) {
			var opportunityOrderFControl = g_form.getControl('u_contract_status');
			var OrderFormStatuses = opportunityOrderFControl.options;
			for(var i=0;i&lt; OrderFormStatuses.length;i++){
				if(OrderFormStatuses[i].value == 'Signed Complete sent to OM'){
					OrderFormStatuses[i].disabled = true;
				}
			}
		}
	}
   
}

var thisWidget = document.getElementById('sales_opportunity.type');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_type_8',onChange_sales_opportunity_type_8, 'sales_opportunity.type');g_event_handlers_onChange['onChange_sales_opportunity_type_8'] = 'Updating Order Form Status';g_event_handler_ids['onChange_sales_opportunity_type_8'] = '3f7a4588371e7100de6cd8d543990e37';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_type_9(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || newValue == '') {
      return;
   }
	if(newValue.indexOf('App Store') != -1){
		g_form.addOption('u_contract_type', 'App Store','App Store');
		g_form.addOption('u_contract_type', 'App Store TPP','App Store TPP');
	}
   if(newValue == 'new_business'){
	   g_form.removeOption('u_contract_type', 'Express Auto Renewal');
   }
	else {
	   g_form.addOption('u_contract_type', 'Express Auto Renewal','Express – Auto Renewal', 4);
   }
}

var thisWidget = document.getElementById('sales_opportunity.type');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_type_9',onChange_sales_opportunity_type_9, 'sales_opportunity.type');g_event_handlers_onChange['onChange_sales_opportunity_type_9'] = 'Contract Type display OnChange';g_event_handler_ids['onChange_sales_opportunity_type_9'] = '4707046a4f2f8e40e07d49cf0310c769';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_account_10(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue == '' || ssaOppForm.isProcessingAccountChange ) {
		return;
	}
		ssaOppForm.onAccountChange(control, oldValue, newValue, isLoading, isTemplate);
	
}

var thisWidget = document.getElementById('sales_opportunity.account');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_account_10',onChange_sales_opportunity_account_10, 'sales_opportunity.account');g_event_handlers_onChange['onChange_sales_opportunity_account_10'] = 'On change of opportunity account';g_event_handler_ids['onChange_sales_opportunity_account_10'] = '4778937025d6a1004ece7a6d78527d3b';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_term_11(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue == '') {
		return;
	}
	
	if(!g_form.isNewRecord()){
		
	    var term = g_form.getValue('u_term');
		if(!isNaN(term) &amp;&amp; term.indexOf(&quot;.&quot;)>-1){
			term = Number(term).toFixed(11);
		}
		if(g_scratchpad.u_precision_term != term){
var message = 'Changing the term or dates will reset the term/dates on all the related line items on save/submit. ';
			g_form.addInfoMessage(message);
			
			g_form.hideFieldMsg('u_term', true);
			g_form.showFieldMsg('u_term', message,'info');
		}
	}	
}

var thisWidget = document.getElementById('sales_opportunity.u_term');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_term_11',onChange_sales_opportunity_u_term_11, 'sales_opportunity.u_term');g_event_handlers_onChange['onChange_sales_opportunity_u_term_11'] = 'On change of term show message';g_event_handler_ids['onChange_sales_opportunity_u_term_11'] = '47e870a9602f910006ff67b5f2e89456';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_type_12(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || newValue === '') {
      return;
   }
	
	if(newValue == 'new_business' || newValue == 'License Upsell'){
		
		g_form.setMandatory('u_did_marketing_help', true);
		
	}else{
		
		g_form.setMandatory('u_did_marketing_help', false);
	}
   
}

var thisWidget = document.getElementById('sales_opportunity.type');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_type_12',onChange_sales_opportunity_type_12, 'sales_opportunity.type');g_event_handlers_onChange['onChange_sales_opportunity_type_12'] = 'Did Marketing help mandatory';g_event_handler_ids['onChange_sales_opportunity_type_12'] = '51318c7fdbe38740a3ab56a8dc9619fb';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_account_13(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue == '') {
		return;
	}
	
	clearFields();
	var ga = new GlideAjax('SSAOpportunityAjax');
	ga.addParam('sysparm_name', 'getAcctInfo');
	ga.addParam('sysparm_acctId', g_form.getValue('account'));
	ga.getXML(responseParse);
}
function clearFields() {
	
	g_form.setValue('u_territory', '');
	g_form.setValue('u_msp_territory', '');
	g_form.setValue('u_msp', '');
	g_form.setValue('u_end_customer', '');
	g_form.setValue('u_ps_territory', '');
}
function responseParse(response) {
	var result = response.responseXML.getElementsByTagName(&quot;result&quot;);
	var isMsp = result[0].getAttribute(&quot;isMsp&quot;);
	var repId = result[0].getAttribute(&quot;repId&quot;);
	var trtyId = result[0].getAttribute(&quot;trtyId&quot;);
	var acctParentId = result[0].getAttribute(&quot;parent&quot;);
	var psTrtyId = result[0].getAttribute(&quot;accPSTer&quot;);
	
	if(g_form.isNewRecord()){
		g_form.setValue('u_ps_territory', psTrtyId);
	}
	if(isMsp == 'false') {
		g_form.setValue('u_territory', trtyId);
	} else if (isMsp == 'true') {
		g_form.setValue('u_msp_territory', trtyId);
		g_form.setValue('u_territory', trtyId);
		if (acctParentId) {
			g_form.setValue('u_msp', acctParentId);
		} else {
			g_form.setValue('u_msp', g_form.getValue('account'));
		}
	}
}

var thisWidget = document.getElementById('sales_opportunity.account');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_account_13',onChange_sales_opportunity_account_13, 'sales_opportunity.account');g_event_handlers_onChange['onChange_sales_opportunity_account_13'] = 'Account onChange';g_event_handler_ids['onChange_sales_opportunity_account_13'] = '58e740ca4fa38e40e07d49cf0310c7ee';g_event_handlers.push(thisHandler);});var messages = new GwtMessage();messages.set('Populate sales rep / territory / MSP related fields on change of Account');addRenderEvent( function() { function onChange_sales_opportunity_pipeline_status_14(control, oldValue, newValue, isLoading, isTemplate) {
  if (isLoading || newValue === '' || newValue == oldValue) {
      return;
   }
	
   if(isLMSorAppStore() &amp;&amp; g_form.getValue('pipeline_status') == 'Submitted' &amp;&amp; !(isQuoteStages(g_scratchpad.master_quote_status))){
		 notesDialogOpp(control, oldValue, newValue);
        return false;
    }
	else{
		return true;
	}
}
 function notesDialogOpp(){
	if(typeof GlideDialogWindow === 'undefined') {
		mobileDialog();
	} else {
		var dialog = new GlideDialogWindow('sreps_submit_comments_dialog');
		dialog.setTitle('Submit For Booking ?');
		dialog.setSize(600, 400);
		dialog.setPreference('onPromptCancel', function() {
			return false;
		});
		dialog.setPreference('onPromptComplete', function() {
			dialog.destroy();
			onComplete();
		});
		dialog.render();
	}
	
}
function mobileDialog() {
alert('Please add or review comments/justification (optional) in Next Steps. [Note: These will be sent in the review email.]');
	$('#u_next_steps_journaled')[0].scrollIntoView(true);
	$('#sp_formfield_u_next_steps_journaled').focus();
	$('#sp_formfield_u_next_steps_journaled')[0].style.borderColor = 'orange';
}
function onComplete() {
	if(g_form.getValue('pipeline_status') == 'Submitted' &amp;&amp; ((g_scratchpad.master_quote_status == 'OF Approved' &amp;&amp; g_form.getValue('u_master_quote')!='') || g_form.getValue('u_master_quote')=='')){
			
		g_form.save();
		if(typeof action != 'undefined') {
			action.setRedirectURL(current);
		}
	}
	else{
		alert('Please change the quote status to OF Approved to Proceed');
	}		
}
function isLMSorAppStore(){
	var contractType = ['LMS','App Store','App Store TPP'];
	var getContractType = g_form.getValue('u_contract_type');
	var result = contractType.indexOf(getContractType)!= -1;
	return result;
}
function isQuoteStages(getQuoteStage){
	var quoteStage = ['SOPS Review','OM Review','Accepted','Cancelled','Rejected'];
	var result = quoteStage.indexOf(getQuoteStage)!= -1;
	return result;
}

var thisWidget = document.getElementById('sales_opportunity.pipeline_status');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_pipeline_status_14',onChange_sales_opportunity_pipeline_status_14, 'sales_opportunity.pipeline_status');g_event_handlers_onChange['onChange_sales_opportunity_pipeline_status_14'] = 'Opportunity FcstCtgry change Quote_SOPSR';g_event_handler_ids['onChange_sales_opportunity_pipeline_status_14'] = '65527159138f9a00a5e739fed144b089';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_use_line_items_15(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || newValue == '') {
        return;
    }
    var useLineItem = g_form.getValue('u_use_line_items');
    
    if(useLineItem == 'true'){
		var gx = new GlideAjax('ServicesSalesApprovalAjax');
		gx.addParam('sysparm_name','getLineItemsSysId');
		gx.getXML(getLineItemsSysId);
    }
    else if(useLineItem == 'false'){
        g_form.setValue('product','');
    }
	
	function getLineItemsSysId(response) {
	   var answer = response.responseXML.documentElement.getAttribute(&quot;answer&quot;);
	   if (answer) {
			 g_form.setValue('product',answer);
	   }
	}
}

var thisWidget = document.getElementById('sales_opportunity.u_use_line_items');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_use_line_items_15',onChange_sales_opportunity_u_use_line_items_15, 'sales_opportunity.u_use_line_items');g_event_handlers_onChange['onChange_sales_opportunity_u_use_line_items_15'] = 'SSA Use Line Items Changes';g_event_handler_ids['onChange_sales_opportunity_u_use_line_items_15'] = '67c42d6360e6050006ff177ed89caeb5';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_contract_type_16(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue === '') {
		return;
	}
	
	if(newValue == 'Express Auto Renewal'){
		var check_bool = checkIndirect();
if(!check_bool) callAjax();
	}
}
function checkIndirect() { 
	var p_type = g_form.getValue('partnership_type');
	if(p_type == &quot;Lead&quot;){
		alert(&quot;Express - Auto Renewal is not allowed for opportunities with a reseller sales partner. Clicking 'OK' will change the contract type to Express (non auto-renewal).&quot;);
		g_form.setValue('u_contract_type', 'Express');
		return true;
	}
	return false;
}
function callAjax() {
	var ga = new GlideAjax('AutoRenewalAjax');
	ga.addParam('sysparm_name', 'getResult');
	ga.addParam('sysparm_account_id', g_form.getValue('account'));
	ga.getXML(ajaxCallback);	
	
	function ajaxCallback(response){
		var result = response.responseXML.getElementsByTagName('result');
		var is_invalid = result[0].getAttribute('invalid_flag');
		if(is_invalid == &quot;true&quot;){
			var country_display = result[0].getAttribute('country_value');
			alert(&quot;Express - Auto Renewal is not allowed for Customers with an address in &quot; + country_display + &quot;.  Clicking 'OK' will change the contract type to Express (non auto-renewal).&quot;);
			g_form.setValue('u_contract_type', 'Express');
		}
	}
}

var thisWidget = document.getElementById('sales_opportunity.u_contract_type');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_contract_type_16',onChange_sales_opportunity_u_contract_type_16, 'sales_opportunity.u_contract_type');g_event_handlers_onChange['onChange_sales_opportunity_u_contract_type_16'] = 'Checks for Express AR';g_event_handler_ids['onChange_sales_opportunity_u_contract_type_16'] = '6a728d5213e752007b9e38fed144b05d';g_event_handlers.push(thisHandler);});var messages = new GwtMessage();messages.set('Change from \'Express - Auto Renewal\' contract type to \'Express in the following conditions: \r', 'Change from \'Express - Auto Renewal\' contract type to \'Express in the following conditions:');messages.set('- If the account country is ineligible for Express Auto Renewal \r', '- If the account country is ineligible for Express Auto Renewal');messages.set('- If the opportunity has a sales partner that is partnership type \&quot;Reseller\&quot;');addRenderEvent( function() { function onChange_sales_opportunity_u_contract_duration_17(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || ssaOppForm.isProcessingTerm) {
      return;
   }
	ssaOppForm.calculateTermAndDates('u_contract_duration');
}

var thisWidget = document.getElementById('sales_opportunity.u_contract_duration');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_contract_duration_17',onChange_sales_opportunity_u_contract_duration_17, 'sales_opportunity.u_contract_duration');g_event_handlers_onChange['onChange_sales_opportunity_u_contract_duration_17'] = 'SSA Order Term Changes';g_event_handler_ids['onChange_sales_opportunity_u_contract_duration_17'] = '7e8573d74128250006ff035e3ab2cc2c';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_order_term_end_date_18(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || ssaOppForm.isProcessingTerm) { 
      return;
   }
	ssaOppForm.calculateTermAndDates('end_date');
}

var thisWidget = document.getElementById('sales_opportunity.u_order_term_end_date');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_order_term_end_date_18',onChange_sales_opportunity_u_order_term_end_date_18, 'sales_opportunity.u_order_term_end_date');g_event_handlers_onChange['onChange_sales_opportunity_u_order_term_end_date_18'] = 'SSA Order Term End Date Changes';g_event_handler_ids['onChange_sales_opportunity_u_order_term_end_date_18'] = '827eb9eb6017510006ff67b5f2e8942a';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_express_conversion_19(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || newValue === '') {
      return;
   }
	
   if(newValue == 'express_to_enterprise'){
	   alert(&quot;If you have questions on the Express to Enterprise Conversion Services- Contact remoteservices@servicenow.com&quot;);
   }
}

var thisWidget = document.getElementById('sales_opportunity.u_express_conversion');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_express_conversion_19',onChange_sales_opportunity_u_express_conversion_19, 'sales_opportunity.u_express_conversion');g_event_handlers_onChange['onChange_sales_opportunity_u_express_conversion_19'] = 'SLS_ConversionAlert';g_event_handler_ids['onChange_sales_opportunity_u_express_conversion_19'] = '9876e8c1db2436004ebcf3e51d9619a6';g_event_handlers.push(thisHandler);});addRenderEvent( function() {   
function onChange_sales_opportunity_stage_20(control, oldValue, newValue, isLoading) {
	if (isLoading) {
		return;
	}
	
	var helper = getStageOnChangeHelper();
	
	var isStageChanged = false;
	
	if(typeof helper.currentPipelineStatus === 'undefined'){
		helper.currentPipelineStatus = g_form.getValue('pipeline_status')+'';
		isStageChanged = false;
	}else{
		isStageChanged = true;
	}
	
	if (newValue != '') {
		refreshPipelineChoices('pipeline_status', helper.stagePipelineMap[''+newValue], helper.currentPipelineStatus);
		if(isStageChanged &amp;&amp; !helper.isValidPipeline){
			g_form.removeOption('pipeline_status',helper.currentPipelineStatus);
		}else{
			g_form.setValue('pipeline_status', helper.currentPipelineStatus);
		}
		
		
		var noEditableFields = typeof g_form.getEditableFields === 'undefined';
		var editableFields;
		if(!noEditableFields) {
			editableFields = g_form.getEditableFields();
		}
		if (!noEditableFields &amp;&amp; editableFields.indexOf(&quot;pipeline_status&quot;) > 0) {
			var opportunityPipelineControl = g_form.getControl('pipeline_status');
			var opportunityPipelines = opportunityPipelineControl.options;
			for(var i=0;i&lt; opportunityPipelines.length;i++){
				if(opportunityPipelines[i].value == 'omitted'){
					opportunityPipelines[i].disabled = true;
				}
			}
		}
		setDefaultPipeline(newValue,isLoading);
	}
}
function getStageOnChangeHelper(){
	
	try{
		return sales_opportunity_stage_onChange_helper;
	}catch(e){
		
	}
	
	var helper = {};
		helper.isValidPipeline = true;
		helper.stagePipelineMap = {};
			helper.stagePipelineMap.lead_generation = ['lead','pipeline'];
			helper.stagePipelineMap.opportunity_qualification = ['pipeline'];
			helper.stagePipelineMap.Demo = ['upside','commit','expect'];
			helper.stagePipelineMap.business_case = ['upside','commit','expect'];
			helper.stagePipelineMap.pov_scheduled = ['upside','commit','expect'];
			helper.stagePipelineMap.pov_not_required = ['upside','commit','expect'];
			helper.stagePipelineMap.pov_validation_in_process = ['upside','commit','expect'];
			helper.stagePipelineMap.pov_validation_completed = ['expect','commit'];
			helper.stagePipelineMap.verbal_agreement = ['commit','Submitted'];
			helper.stagePipelineMap.closed_won = ['closed'];
			helper.stagePipelineMap.closed_lost = ['closed'];
			helper.stagePipelineMap.closed_no_decision = ['lost'];
			helper.stagePipelineMap.sops_admin = ['inactive'];
			
			sales_opportunity_stage_onChange_helper = helper;
			
			return sales_opportunity_stage_onChange_helper;
		}
		
		
		
					function refreshPipelineChoices(field, list, curPipelineStatus){
						var helper = getStageOnChangeHelper();
						var invalidStatusAdded = false;
						g_form.clearOptions(field);
						if(list.indexOf(curPipelineStatus)==-1){
							helper.isValidPipeline = false;
							list.push(curPipelineStatus);
							invalidStatusAdded = true;
						}else{
							helper.isValidPipeline = true;
						}
						
						for(var i in list) {
							if(list[i] == 'lead'){
								g_form.addOption(field, 'lead', 'Lead',0);
							}
							else if(list[i] == 'omitted'){
								g_form.addOption(field, 'omitted', 'Omitted',1);
							}
							else if(list[i] == 'pipeline'){
								g_form.addOption(field, 'pipeline', 'Pipeline',2);
							}
							else if(list[i] == 'upside'){
								g_form.addOption(field, 'upside', 'Upside',3);
							}
							else if(list[i] == 'expect'){
								g_form.addOption(field, 'expect', 'Expect',4);
							}
							else if(list[i] == 'commit'){
								g_form.addOption(field, 'commit', 'Commit',5);
							}
							else if(list[i] == 'Submitted'){
								g_form.addOption(field, 'Submitted', 'Submitted',6);
							}
							else if(list[i] == 'closed'){
								g_form.addOption(field, 'closed', 'Closed',7);
							}
							else if(list[i] == 'inactive'){
								g_form.addOption(field, 'inactive', 'Inactive',8);
							}
							else if(list[i] == 'lost'){
								g_form.addOption(field, 'lost', 'Lost',9);
							}
							
						}
						if(invalidStatusAdded){
							list.pop();
						}
					}
					
					function setDefaultPipeline(newValue,isLoading){
						var leadStages = ['lead_generation'];
						var pipelineStages = ['opportunity_qualification','Scope', 'Discovery'];
						var upsideStages = ['business_case','Demo','pov_not_required','pov_scheduled','pov_validation_in_process','go_no_go', 'Validation'];
						var expectStages = ['pov_validation_completed'];
						var commitStages = ['negotiate_close','verbal_agreement'];
						var closedStages = ['closed_won'];
						var sopsStages = ['sops_admin'];
						var closedLost = ['closed_lost'];
						var closedNoDecision = ['closed_no_decision'];
						
						
						if (!isLoading &amp;&amp; newValue != '') {
							if(contains(leadStages, newValue)) {
								g_form.setValue('pipeline_status', 'lead');
							}
							if(contains(pipelineStages, newValue)) {
								g_form.setValue('pipeline_status', 'pipeline');
							}
							if(contains(upsideStages, newValue)) {
								g_form.setValue('pipeline_status', 'upside');
							}
							if(contains(expectStages, newValue)) {
								g_form.setValue('pipeline_status', 'expect');
							}
							if(contains(commitStages, newValue)) {
								g_form.setValue('pipeline_status', 'commit');
							}
							if(contains(closedStages, newValue)) {
								g_form.setValue('pipeline_status', 'closed');
							}
							if(contains(closedLost, newValue)) {
								g_form.setValue('pipeline_status', 'closed');
							}
							if(contains(closedNoDecision, newValue)) {
								g_form.setValue('pipeline_status', 'lost');
							}
							if(contains(sopsStages, newValue)) {
								g_form.setValue('pipeline_status', 'inactive');
							}
						}
					}
					
					function contains(list, val) {
						for(var i in list) {
							if(list[i] == val) {
								return true;
							}
						}
						return false;
					}

var thisWidget = document.getElementById('sales_opportunity.stage');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_stage_20',onChange_sales_opportunity_stage_20, 'sales_opportunity.stage');g_event_handlers_onChange['onChange_sales_opportunity_stage_20'] = 'SSA - Restrict Pipeline Status';g_event_handler_ids['onChange_sales_opportunity_stage_20'] = 'a1bb770060a8d1c006ff177ed89cae73';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_stage_21(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue == '') {
		return;
	} 
	
	g_form.clearMessages();
	g_form.hideFieldMsg('u_use_line_items'); 
	var stageInt = parseInt(surf_form.getOption('stage',g_form.getValue('stage')).text)
	if((stageInt >=5 &amp;&amp; stageInt!=9 &amp;&amp; g_form.getValue('stage')!='closed_lost' &amp;&amp; g_form.getValue('stage')!='closed_no_decision') || (g_form.getValue('type')=='Renewal' &amp;&amp; g_form.getValue('stage')=='closed_lost') ){
		if(g_form.getValue('u_use_line_items')=='false'){
			g_form.setMandatory('u_use_line_items', true);
			g_form.showFieldMsg('u_use_line_items','Entry of product line items required','error');
		}
	}
}

var thisWidget = document.getElementById('sales_opportunity.stage');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_stage_21',onChange_sales_opportunity_stage_21, 'sales_opportunity.stage');g_event_handlers_onChange['onChange_sales_opportunity_stage_21'] = 'SSA Line Item mandatory check';g_event_handler_ids['onChange_sales_opportunity_stage_21'] = 'a21069cd8c59510006ff5e62ef64bbec';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_account_22(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue === '') {
		return;
	}
	if(newValue &amp;&amp; (g_form.getValue('u_contract_type') === 'Express Auto Renewal')){
		callAjax(newValue);
	}
}
function callAjax(account_val){
	var ga = new GlideAjax('AutoRenewalAjax');
	ga.addParam('sysparm_name', 'getResult');
	ga.addParam('sysparm_account_id', account_val);
	ga.getXML(ajaxCallback);	
	
	function ajaxCallback(response){
		var result = response.responseXML.getElementsByTagName('result');
		var is_invalid = result[0].getAttribute('invalid_flag');
		if(is_invalid == &quot;true&quot;){
			var country_display = result[0].getAttribute('country_value');
			alert(&quot;Express - Auto Renewal is not allowed for Customers with an address in &quot; + country_display + &quot;.  Clicking 'OK' will change the contract type to Express (non auto-renewal).&quot;);
			g_form.setValue('u_contract_type', 'Express');
		}
	}
}

var thisWidget = document.getElementById('sales_opportunity.account');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_account_22',onChange_sales_opportunity_account_22, 'sales_opportunity.account');g_event_handlers_onChange['onChange_sales_opportunity_account_22'] = 'Check Change of Account Express AR';g_event_handler_ids['onChange_sales_opportunity_account_22'] = 'b8028659130462007b9e38fed144b0ef';g_event_handlers.push(thisHandler);});var messages = new GwtMessage();messages.set('If the account country changes and contract type set to \&quot;Express - Auto Renewal\&quot;, check for ineligibility');addRenderEvent( function() { function onChange_sales_opportunity_u_order_term_start_date_23(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || ssaOppForm.isProcessingTerm) {
		return;
	}
	ssaOppForm.calculateTermAndDates('start_date');
}

var thisWidget = document.getElementById('sales_opportunity.u_order_term_start_date');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_order_term_start_date_23',onChange_sales_opportunity_u_order_term_start_date_23, 'sales_opportunity.u_order_term_start_date');g_event_handlers_onChange['onChange_sales_opportunity_u_order_term_start_date_23'] = 'SSA Order Term Start Date Changes';g_event_handler_ids['onChange_sales_opportunity_u_order_term_start_date_23'] = 'bb298dc82b9501006f71bff019da1587';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_msp_24(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading) {
		return;
	}
		
	var ga = new GlideAjax('SSAOpportunityAjax');
	ga.addParam('sysparm_name', 'getAcctInfo');
	ga.addParam('sysparm_acctId', g_form.getValue('account'));
	ga.getXML(responseParseAcct);
}
function responseParseAcct(response) {
	var result = response.responseXML.getElementsByTagName(&quot;result&quot;);
	var isMsp = result[0].getAttribute(&quot;isMsp&quot;);
	if(isMsp == 'false'){
		if(g_form.getValue('u_msp') == '') {
			g_form.setValue('u_msp_territory', '');
			return;
		}
		var ga = new GlideAjax('SSAOpportunityAjax');
		ga.addParam('sysparm_name', 'getAcctInfo');
		ga.addParam('sysparm_acctId', g_form.getValue('u_msp'));
		ga.getXML(responseParseMsp);
	}
}
function responseParseMsp(response) {
	var result = response.responseXML.getElementsByTagName(&quot;result&quot;);
	var mspTrty = result[0].getAttribute(&quot;trtyId&quot;);
	var mspRep = result[0].getAttribute(&quot;repId&quot;);
	g_form.setValue('u_msp_territory', mspTrty);
}

var thisWidget = document.getElementById('sales_opportunity.u_msp');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_msp_24',onChange_sales_opportunity_u_msp_24, 'sales_opportunity.u_msp');g_event_handlers_onChange['onChange_sales_opportunity_u_msp_24'] = 'MSP Partner onChange';g_event_handler_ids['onChange_sales_opportunity_u_msp_24'] = 'bc9cd3324f6706801f77a50f0310c770';g_event_handlers.push(thisHandler);});var messages = new GwtMessage();messages.set('On change of MSP Partner, if account on opty is a non-MSP account, auto populate MSP Territory and MSP Sales from MSP Partner record.');addRenderEvent( function() { function onChange_sales_opportunity_type_25(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || newValue === '') {
      return;
   }
	var contractType = g_form.getValue('u_contract_type');
	if((newValue == 'Training' || newValue == 'Services') &amp;&amp; contractType == &quot;&quot;)
		g_form.setValue('u_contract_type', 'Order Form Only');
   
}

var thisWidget = document.getElementById('sales_opportunity.type');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_type_25',onChange_sales_opportunity_type_25, 'sales_opportunity.type');g_event_handlers_onChange['onChange_sales_opportunity_type_25'] = 'Set Contract Type onChange of Opp Type';g_event_handler_ids['onChange_sales_opportunity_type_25'] = 'cc838872db436e0004ea750aaf9619a0';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_end_customer_26(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue == '') {
		return;
	}
	
	var ga = new GlideAjax('SSAOpportunityAjax');
	ga.addParam('sysparm_name', 'getAcctInfo');
	ga.addParam('sysparm_acctId', g_form.getValue('u_end_customer'));
	ga.getXML(responseParse);
}
function responseParse(response) {
	var result = response.responseXML.getElementsByTagName(&quot;result&quot;);
	var repId = result[0].getAttribute(&quot;repId&quot;);
	var trtyId = result[0].getAttribute(&quot;trtyId&quot;);
	g_form.setValue('u_territory', trtyId);
}

var thisWidget = document.getElementById('sales_opportunity.u_end_customer');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_end_customer_26',onChange_sales_opportunity_u_end_customer_26, 'sales_opportunity.u_end_customer');g_event_handlers_onChange['onChange_sales_opportunity_u_end_customer_26'] = 'End Customer onChange';g_event_handler_ids['onChange_sales_opportunity_u_end_customer_26'] = 'cfeb6ffa4f6706801f77a50f0310c75f';g_event_handlers.push(thisHandler);});var messages = new GwtMessage();messages.set('On change of End Customer, populate its primary sales rep to opty Field Sales');addRenderEvent( function() { function onChange_sales_opportunity_stage_27(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue === '') {
		return;
	}
	
	if(g_form.getValue('stage')=='sops_admin'){
		try {
			var dialog = new GlideDialogWindow('sls_glide_opportunity_clone',true);
			dialog.setTitle('Copy Opportunity');
			var details = &quot;Do you wish to copy this Opportunity to a new Opportunity?&quot;;
			dialog.setPreference(&quot;details&quot;, details);
			dialog.setSize(200,20);
			dialog.render();
			
			dialog.setPreference('onPromptCancel', function() {
				g_form.setValue('u_opportunity_link_reason','other');
			});
			
			dialog.setPreference('onPromptComplete', function() {
				gsftSubmit(null,g_form.getFormElement(),'requestopptyclone');
			});
		}catch(ex){
			jslog(&quot;Confirmation on Opportunity clone encountered an exception: &quot; + ex);
		}
	}
	else if(g_form.getValue('type') != &quot;Services&quot;){
		g_form.setValue('u_opportunity_link_reason','');
	}
}

var thisWidget = document.getElementById('sales_opportunity.stage');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_stage_27',onChange_sales_opportunity_stage_27, 'sales_opportunity.stage');g_event_handlers_onChange['onChange_sales_opportunity_stage_27'] = 'Confirmation on Opportunity clone';g_event_handler_ids['onChange_sales_opportunity_stage_27'] = 'd0b7e3bedb0fcb44a0885e77dc96193f';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_sap_manual_override_28(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || newValue == '') {
      return;
   }
	
	newValue = newValue+'';	
	if(newValue == 'true'){
		g_form.setValue('u_sap_contract_id_req_status','Manual Override');
	}
	else if(newValue == 'false'){
		g_form.setValue('u_sap_contract_id_req_status','Not Requested');
	}   
}

var thisWidget = document.getElementById('sales_opportunity.u_sap_manual_override');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_sap_manual_override_28',onChange_sales_opportunity_u_sap_manual_override_28, 'sales_opportunity.u_sap_manual_override');g_event_handlers_onChange['onChange_sales_opportunity_u_sap_manual_override_28'] = 'Manual Override OnChange';g_event_handler_ids['onChange_sales_opportunity_u_sap_manual_override_28'] = 'd45ead2c6040e50006ff67b5f2e8948a';g_event_handlers.push(thisHandler);});var messages = new GwtMessage();messages.set('Manual Override changes to true, set SAP Contract ID Req Status on Opty as Manual Override\r', 'Manual Override changes to true, set SAP Contract ID Req Status on Opty as Manual Override');messages.set('Manual Override changes to false, set SAP Contract ID Req Status on Opty as Not Requested');addRenderEvent( function() { function onChange_sales_opportunity_u_base_currency_29(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || oldValue == newValue || ssaOppForm.isProcessingBaseCurrency || ssaOppForm.isProcessingAccountChange){
		return;
	}
	ssaOppForm.onBaseCurrencyChange(control, oldValue, newValue, isLoading, isTemplate);
}

var thisWidget = document.getElementById('sales_opportunity.u_base_currency');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_base_currency_29',onChange_sales_opportunity_u_base_currency_29, 'sales_opportunity.u_base_currency');g_event_handlers_onChange['onChange_sales_opportunity_u_base_currency_29'] = 'SSA Base Currency Changes';g_event_handler_ids['onChange_sales_opportunity_u_base_currency_29'] = 'd52cfa0e8755810006ffd0b92d434d81';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_contract_30(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue == '') {
		return;
	}
	
	var contractID = g_form.getValue('u_contract');
    
	if(contractID != '' &amp;&amp; g_form.getValue('type') != 'Services' &amp;&amp; g_form.getValue('type') != 'Training'){
		var contractTypesArr = ['LMS', 'App Store', 'App Store TPP'];
		var oppContractType = g_form.getValue('u_contract_type');
		if(contractTypesArr.indexOf(oppContractType)!=-1){
			var ga = new GlideAjax('SLS_DataCenterLoadedFromContractAjax');
			ga.addParam('sysparm_name', 'getDataCenter');
			ga.addParam('sysparm_contract_sysid', contractID);
			ga.getXML(getDC);
		}
	}
}
function getDC(response) {
	var answer = response.responseXML.documentElement.getAttribute(&quot;answer&quot;);
	g_form.setValue('u_data_center',answer);
}

var thisWidget = document.getElementById('sales_opportunity.u_contract');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_contract_30',onChange_sales_opportunity_u_contract_30, 'sales_opportunity.u_contract');g_event_handlers_onChange['onChange_sales_opportunity_u_contract_30'] = 'Data Center Loaded From Contract';g_event_handler_ids['onChange_sales_opportunity_u_contract_30'] = 'f375fe99006ae1006f71270e9cf2c758';g_event_handlers.push(thisHandler);});var messages = new GwtMessage();messages.set('Data Center Loaded From Contract.');addRenderEvent( function() { function onChange_sales_opportunity_stage_31(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue == '') {
		return;
	}
	
	var stages = 'pov_validation_in_process, verbal_agreement, closed_lost, closed_no_decision';
	if (g_scratchpad.comp_isAppliedType &amp;&amp; stages.indexOf(newValue) != -1) {
		alert(&quot;Please ensure the current Primary Competitor and Competitive status are accurate.&quot;);
	}
}

var thisWidget = document.getElementById('sales_opportunity.stage');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_stage_31',onChange_sales_opportunity_stage_31, 'sales_opportunity.stage');g_event_handlers_onChange['onChange_sales_opportunity_stage_31'] = 'Competition - update Competitive Status';g_event_handler_ids['onChange_sales_opportunity_stage_31'] = 'f552621637978680b4ca1f7543990e98';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_data_center_32(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue === '') {
		return;
	}
	
	
	if(newValue == 'More')
		{
		for(var i = 0; i &lt; g_scratchpad.specialDataCenter.length; i++) 
		{
			g_form.addOption('u_data_center',g_scratchpad.specialDataCenter[i].value,g_scratchpad.specialDataCenter[i].name,g_scratchpad.specialDataCenter[i].sequence);
		}
		g_form.removeOption('u_data_center','More');
		g_form.addOption('u_data_center','Less','--Less--');
		
		
	}
	
	
	
	
	if(newValue == 'Less')
		{
		for(var j = 0; j &lt; g_scratchpad.specialDataCenter.length; j++) {
			
			g_form.removeOption('u_data_center', g_scratchpad.specialDataCenter[j].value);
		}
		g_form.removeOption('u_data_center','Less');
		g_form.addOption('u_data_center','More','--More--');
		
		
	}
	
}

var thisWidget = document.getElementById('sales_opportunity.u_data_center');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_data_center_32',onChange_sales_opportunity_u_data_center_32, 'sales_opportunity.u_data_center');g_event_handlers_onChange['onChange_sales_opportunity_u_data_center_32'] = 'DataCenter Choice More/Less';g_event_handler_ids['onChange_sales_opportunity_u_data_center_32'] = 'fb1f933313c8a2007b9e38fed144b011';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_u_opportunity_link_reason_33(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || newValue === '') {
      return;
   }
   
	if((g_form.getValue('u_opportunity_link_reason')!='other') &amp;&amp; g_form.getValue('u_link_reason') != '')
		g_form.clearValue('u_link_reason');	
}

var thisWidget = document.getElementById('sales_opportunity.u_opportunity_link_reason');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_u_opportunity_link_reason_33',onChange_sales_opportunity_u_opportunity_link_reason_33, 'sales_opportunity.u_opportunity_link_reason');g_event_handlers_onChange['onChange_sales_opportunity_u_opportunity_link_reason_33'] = 'Clear Other Link Reason Value';g_event_handler_ids['onChange_sales_opportunity_u_opportunity_link_reason_33'] = 'fb5bc662db0347c0a3ab56a8dc961984';g_event_handlers.push(thisHandler);});addRenderEvent( function() { function onChange_sales_opportunity_stage_34(control, oldValue, newValue, isLoading, isTemplate) {
   if (isLoading || newValue == '') {
      return;
   }
   
	if(newValue == &quot;closed_won&quot; || newValue== &quot;closed_lost&quot; || newValue == &quot;closed_no_decision&quot;)
	{
		g_form.setValue('u_contract_status',&quot;4&quot;);
	}
}

var thisWidget = document.getElementById('sales_opportunity.stage');var thisHandler = new GlideEventHandler('onChange_sales_opportunity_stage_34',onChange_sales_opportunity_stage_34, 'sales_opportunity.stage');g_event_handlers_onChange['onChange_sales_opportunity_stage_34'] = 'Updating type value when stage is closed';g_event_handler_ids['onChange_sales_opportunity_stage_34'] = 'fbbed6943712b100de6cd8d543990edd';g_event_handlers.push(thisHandler);});var gcm = new GwtContextMenu('context_1', true);
			var gcmSection = gcm;
			gcm.clear();
			gcm.setTableName('sales_opportunity');gcm.addHref(&quot;Save&quot;, &quot;gsftSubmit(gel('sysverb_update_and_stay'))&quot;, null, &quot;Save record and remain here&quot;, null, &quot;&quot;);gcm.addHref(&quot;PA Breakdown Helper&quot;, 'pa_analyse(false,false)', null, &quot;&quot;, null, &quot;&quot;);
							function pa_analyse(message, isError){
    g_form.clearMessages();
    jQuery('.injected').remove();
    g_form.addInfoMessage('Mouseover &lt;span class=&quot;icon icon-workflow&quot;>&lt;/span> ' + 
    'icons, to see breakdown advice. Caution: Advanced use-cases like scripting, bucket groups and dot walking not covered');
    if (message){
        if (isError) g_form.addErrorMessage(message);
        else g_form.addInfoMessage(message);
    }
    window.pahelped = true; 
	jQuery.getJSON( &quot;/pahelper.do?action=gettabledata&amp;table=&quot; + g_form.getTableName(), function( data ) {
        doChecks(data); 
	}); 
}

function doChecks(data){ 

    var myurl = '/api/now/ui/meta/' + g_form.getTableName();
    restCall(myurl).done(function(jsn,statusText,jqXHR) {
        //console.log(jsn.result);
        window.jsn = jsn.result;
        jQuery('[id^=element]')
        .each(function(index, value) { 
            var elm = jQuery(this).closest('div.form-group').attr('id').split('.').slice(2).join('.');
            
            var elmMeta = jsn.result.columns[elm];
            var title = &quot;&quot;;
            var color = '';
            var links = '';
            if (elm.indexOf('.') > -1){ 
                var ref = jsn.result.columns[elm.split('.')[0]];
                title = &quot;Field from dot walked table &quot; + ref.reference + &quot; go to table, to analyse breakdown&quot;; 
                color = 'grey';
            }
            else if (elmMeta.type == 'choice'){
                
                title = &quot;Field type Choice appropriate for Breakdown&quot;;
                color = 'green'; 

                var bdsCond = '';
                var bdCond = '';
                for (var i = 0; i &lt; data.tables.length -1; i++){
                    bdsCond += '^ORconditionsLIKEname=' + data.tables[i];
                    bdCond += '^ORdimension.conditionsLIKEname=' + data.tables[i];
                }
 
                var bdsUrl = '/api/now/table/pa_dimensions?sysparm_display_value=true&amp;sysparm_query=facts_table=sys_choice^conditionsLIKEelement='+ elm +'^conditionsLIKEname=' + data.tables[data.tables.length-1] + bdsCond;
                var bdUrl = '/api/now/table/pa_breakdowns?sysparm_display_value=true&amp;sysparm_query=dimension.facts_table=sys_choice^dimension.conditionsLIKEelement='+ elm +'^dimension.conditionsLIKEname=' + data.tables[data.tables.length-1] + bdCond;
                var bdmUrl = '/api/now/table/pa_breakdown_mappings?sysparm_display_value=true&amp;sysparm_query=facts_tableIN' + data.tables +'^field=' + elm ;
                
                var bdsHl = '/pa_dimensions_list.do?sysparm_query=facts_table=sys_choice^conditionsLIKEelement='+ elm +'^conditionsLIKEname=' + data.tables[data.tables.length-1] + bdsCond;
                var bdHl = '/pa_breakdowns_list.do?sysparm_query=dimension.facts_table=sys_choice^dimension.conditionsLIKEelement='+ elm +'^dimension.conditionsLIKEname=' + data.tables[data.tables.length-1] + bdCond;
                var bdmHl = '/pa_breakdown_mappings_list.do?sysparm_query=facts_tableIN' + data.tables +'^field=' + elm;

                var bds = restCall(bdsUrl, index);
                var bd = restCall(bdUrl, index);
                var bdm = restCall(bdmUrl, index);

                Promise.all([index,elm,title,color,bds, bd, bdm, bdsHl,bdHl,bdmHl, data.tables]).then(function(res) { 
                     buildLinks(res);
                });

            }
            else if (elmMeta.type == 'reference'){

                if (data.tasktables.indexOf(elmMeta.reference) ==  -1){

                    if (elmMeta.reference == 'cmdb_ci'){
                        title = &quot;Reference to CMDB CI table. Breakdown not recommended, when creating a Breakdown, add conditions to limit results to max. 500 records&quot; ;
                        color = 'orange';
                    } 
                    else if (elmMeta.reference == 'sys_user'){
                        title = &quot;Reference to User table. Breakdown not recommended, when creating a Breakdown, add conditions to limit results to max. 500 records&quot; ;
                        color = 'orange';
                    } 
                    else {
                        title = &quot;Reference to &quot; + elmMeta.reference + &quot;. Breakdown appropriate, when creating a Breakdown, add conditions to limit results to max. 500 records&quot; ;
                        color = 'green';
                    }

                    var bdsUrl = '/api/now/table/pa_dimensions?sysparm_display_value=true&amp;sysparm_query=facts_table=' + elmMeta.reference  ;
                    var bdUrl = '/api/now/table/pa_breakdowns?sysparm_display_value=true&amp;sysparm_query=dimension.facts_table=' + elmMeta.reference;
                    var bdmUrl = '/api/now/table/pa_breakdown_mappings?sysparm_display_value=true&amp;sysparm_query=facts_tableIN' + data.tables +'^field=' + elm ;
                    
                    var bdsHl = '/pa_dimensions_list.do?sysparm_query=facts_table=' + elmMeta.reference  ;
                    var bdHl = '/pa_breakdowns_list.do?sysparm_query=dimension.facts_table=' + elmMeta.reference; 
                    var bdmHl = '/pa_breakdown_mappings_list.do?sysparm_query=facts_tableIN' + data.tables +'^field=' + elm ;

                    var bds = restCall(bdsUrl, index);
                    var bd = restCall(bdUrl, index);  
                    var bdm = restCall(bdmUrl, index);

                    Promise.all([index,elm,title,color,bds, bd, bdm, bdsHl,bdHl,bdmHl,data.tables]).then(function(res) { 
                        buildLinks(res);
                    });
 
                }
                else {
                    title = elm + &quot; is a reference to a task extended table, not appropriate for Breakdown&quot;;
                    color = 'red';
                }

            } 
            else if (elmMeta.type == 'glide_list' ){
                
                title = &quot;Field type &quot; + elmMeta.type + &quot; maybe appropriate for Breakdown&quot;;
                color = 'orange';
            }
            else if (elmMeta.type == 'boolean' ){
                
                title = &quot;Field type &quot; + elmMeta.type + &quot; appropriate for Breakdown&quot;;
                color = 'green';
            }
            else{
                title = &quot;Field type &quot; + elmMeta.type + &quot; not appropriate for Breakdown (Only choice and reference fields are)&quot;;
                color = 'red';
            }
            jQuery(this).find('.form-field-addons:first').prepend('&lt;span id=&quot;bdspan'+ index +'&quot;>1&lt;/span>');
            if (title) 
                injectDom(index,elm,title,color,'');
        });
        
        

    });
}


function buildLinks(res){
        
    var isSame = false;
    var isZero = false;
    if (res[4].result.length == 0 &amp;&amp; res[5].result.length == 0 &amp;&amp; res[6].result.length == 0){
        isZero = true;
    }

    if (res[4].result.length == res[5].result.length &amp;&amp; res[4].result.length == res[6].result.length)
        isSame = true; 
    

    var link = '&lt;span style=&quot;font-size:8pt; font-family: \'Courier New\', Courier, monospace;&quot;>[';
    if (isZero){
        link += '&lt;a href=&quot;javascript:createBreakDown(\''+ res[10] +'\',\''+ g_form.getTableName() +'\',\''+ res[1] +'\')&quot;>+&lt;/a>';
    }
    if (!isSame){  
        if (res[4].result.length == 0) 
            link += '0|';
        else if (res[4].result.length == 1)
            link += '&lt;a href=&quot;/pa_dimensions.do?sys_id=' + res[4].result[0].sys_id + '&quot; target=&quot;bd&quot;>' + res[4].result.length + '&lt;/a>|';
        else
            link += '&lt;a href=&quot;' + res[7] +'&quot; target=&quot;bd&quot;>' + res[4].result.length + '&lt;/a>|';
    }
    if(!isZero){
        if (res[5].result.length == 0)
            link += '0'; 
        else if (res[5].result.length == 1)
            link += '&lt;a href=&quot;/pa_breakdowns.do?sys_id=' + res[5].result[0].sys_id + '&quot; target=&quot;bd&quot;>' + res[5].result.length + '&lt;/a>';
        else                            
            link += '&lt;a href=&quot;' + res[8] +'&quot; target=&quot;bd&quot;>' + res[5].result.length + '&lt;/a>';
    }
    if (!isSame){                        
        if (res[6].result.length == 0) 
            link += '|0'; 
        else if (res[6].result.length == 1) 
            link += '|&lt;a href=&quot;/pa_breakdown_mappings.do?sys_id=' + res[6].result[0].sys_id + '&quot; target=&quot;bd&quot;>' + res[6].result.length + '&lt;/a>';
        else     
            link += '|&lt;a href=&quot;' + res[9] +'&quot; target=&quot;bd&quot;>' + res[6].result.length + '&lt;/a>' ; 
    }
    link += ']&lt;/span>';
    injectDom(res[0],res[1],res[2],res[3],link);
}

function injectDom(id, elm, title, color, links ){
    var htm =  '&lt;span class=&quot;injected&quot;>&lt;span id=&quot;tt'+ id +'&quot; class=&quot;icon icon-workflow&quot; data-container=&quot;body&quot; data-field=&quot;'+
        elm +'&quot; title=&quot;'+ title +'&quot; style=&quot;color:'+ color +'; display:inline !important&quot;>&lt;/span> ' + links +  '&lt;/span>';
    
    jQuery('#bdspan' + id ).html(htm);
    jQuery('#tt' + id).tooltip()
    .on('hide.bs.tooltip', function(e) {
        e.preventDefault(); 
        jQuery('div.tooltip').hide();
    });
}




function restCall(url) {
	var hdrs = {
		'Cache-Control': 'no-cache',
		'Accept': 'application/json',
		'Content-Type': 'application/json'
    }
    if (g_ck) //only for instances with high security plugin enabled
        hdrs['X-UserToken'] = g_ck;

    respObj = jQuery.ajax({
      url: url,
      method: 'GET',
      headers: hdrs
  });
  return respObj
}


function createBreakDown(tables,table,field){

    g_form.clearMessages();
    g_form.addInfoMessage('&lt;span class=&quot;icon icon-loading&quot;>&lt;/span> Breakdown being created...');
    	jQuery.getJSON( &quot;/pahelper.do?action=createbreakdown&amp;tables=&quot; + tables + &quot;&amp;table=&quot; + table + '&amp;field=' + field, function( data ) {
            var err = false;
            if (data.error) err = true;
            var msg = 'Please review the created Breakdown: &lt;a href=&quot;/pa_breakdowns.do?sys_id=' + data.sys_id + '&quot; target=&quot;bd&quot;>' + data.name + '&lt;/a>';
            if (data.error) msg = data.error;
                pa_analyse(msg,err);
	}); 

}gcm.addHref(&quot;Create or Update Account Tasks&quot;, &quot;gsftSubmit(gel('7dae614e131a9a00a389f1e2e144b0b4'))&quot;, null, &quot;&quot;, null, &quot;&quot;);gcm.addHref(&quot;Sync Apttus Quote&quot;, &quot;gsftSubmit(gel('b98a8ccbdb8e4f803f377bedae9619c6'))&quot;, null, &quot;&quot;, null, &quot;&quot;);gcm.addHref(&quot;Not from HI&quot;, '; // do nothing', null, &quot;&quot;, null, &quot;&quot;);
							// do nothingvar mModify = new GwtContextMenu('context_modifysuba6285ceddb84ae4466d8f4bbaf961915');
        mModify.setTableName('sales_opportunity');
        mModify.clear();
        
        
        
        
        
        
        
        
            
            gcm.addLine();
            
                mModify.addFunc(&quot;Form Layout&quot;, function() { personalizer('a6285ceddb84ae4466d8f4bbaf961915', 'section'); });
            
            
                mModify.addFunc(&quot;Related Lists&quot;, function() { personalizer('sales_opportunity', 'related_list'); });
            
            mModify.addLine();
            
                    mModify.addFunc(&quot;Business Rules&quot;, function() { listCollection('sys_script', 'collection', 'sales_opportunity', ''); });
            
            
                    mModify.addFunc(&quot;Client Scripts&quot;, function() { listCollection('sys_script_client', 'table', 'sales_opportunity', ''); });
            
            
                    mModify.addFunc(&quot;UI Policies&quot;, function() { listCollection('sys_ui_policy', 'table', 'sales_opportunity', ''); });
            
            
                    mModify.addFunc(&quot;UI Actions&quot;, function() { listCollection('sys_ui_action', 'table', 'sales_opportunity', ''); });
            
            
                mModify.addFunc(&quot;Dictionary&quot;, function() { personalizeFields('sales_opportunity', 'sys_dictionary_list.do'); });
            
            gcm.addMenu(&quot;Personalize&quot;, mModify);
        
        var mExport = new GwtContextMenu('context_pdfsuba6285ceddb84ae4466d8f4bbaf961915');
        mExport.setTableName('sales_opportunity');
        mExport.clear();
        mExport.addURL(&quot;PDF (Portrait)&quot;, &quot;sales_opportunity.do?sys_id=9f372635db9c1bc01143fd7aae961983&amp;PDF&amp;sysparm_view=&quot;);
	mExport.addURL(&quot;PDF (Landscape)&quot;, &quot;sales_opportunity.do?sys_id=9f372635db9c1bc01143fd7aae961983&amp;PDF&amp;landscape=true&amp;sysparm_view=&quot;);
        mExport.addURL(&quot;XML (This Record)&quot;, &quot;sales_opportunity.do?UNL&amp;sysparm_query=sys_id=9f372635db9c1bc01143fd7aae961983&quot;);gcm.addMenu(&quot;Export&quot;, mExport);var cmViews = new GwtContextMenu('context_header_view_',false);
	    cmViews.clear();
	    cmViews.setTableName('sales_opportunity');
            var views_sa = new GwtContextMenu('context_labelMenu',false);
            views_sa.clear();

            
               
               
                  
	       cmViews.addHref(&quot;Classic Sales&quot;, &quot;switchView('section','sales_opportunity','sales_classic')&quot;, &quot;images/s.gifx&quot;);
	       views_sa.addHref(&quot;Classic Sales&quot;, &quot;switchView('section','sales_opportunity','sales_classic')&quot;, &quot;images/s.gifx&quot;);
            
               
                  
               
	       cmViews.addHref(&quot;Default view&quot;, &quot;switchView('section','sales_opportunity','')&quot;, &quot;images/checked.pngx&quot;);
	       views_sa.addHref(&quot;Default view&quot;, &quot;switchView('section','sales_opportunity','')&quot;, &quot;images/checked.pngx&quot;);
            
               
               
                  
	       cmViews.addHref(&quot;Marketing&quot;, &quot;switchView('section','sales_opportunity','marketing')&quot;, &quot;images/s.gifx&quot;);
	       views_sa.addHref(&quot;Marketing&quot;, &quot;switchView('section','sales_opportunity','marketing')&quot;, &quot;images/s.gifx&quot;);
            
               
               
                  
	       cmViews.addHref(&quot;Mobile&quot;, &quot;switchView('section','sales_opportunity','Mobile')&quot;, &quot;images/s.gifx&quot;);
	       views_sa.addHref(&quot;Mobile&quot;, &quot;switchView('section','sales_opportunity','Mobile')&quot;, &quot;images/s.gifx&quot;);
            
               
               
                  
	       cmViews.addHref(&quot;Partner&quot;, &quot;switchView('section','sales_opportunity','partner')&quot;, &quot;images/s.gifx&quot;);
	       views_sa.addHref(&quot;Partner&quot;, &quot;switchView('section','sales_opportunity','partner')&quot;, &quot;images/s.gifx&quot;);
            
               
               
                  
	       cmViews.addHref(&quot;Solution_consultant&quot;, &quot;switchView('section','sales_opportunity','solution_consultant')&quot;, &quot;images/s.gifx&quot;);
	       views_sa.addHref(&quot;Solution_consultant&quot;, &quot;switchView('section','sales_opportunity','solution_consultant')&quot;, &quot;images/s.gifx&quot;);
            
               
               
                  
	       cmViews.addHref(&quot;SSA Shark View&quot;, &quot;switchView('section','sales_opportunity','ssa_shark_view')&quot;, &quot;images/s.gifx&quot;);
	       views_sa.addHref(&quot;SSA Shark View&quot;, &quot;switchView('section','sales_opportunity','ssa_shark_view')&quot;, &quot;images/s.gifx&quot;);
            
               
               
                  
	       cmViews.addHref(&quot;Surf Sales Automation&quot;, &quot;switchView('section','sales_opportunity','SSAOpportunity')&quot;, &quot;images/s.gifx&quot;);
	       views_sa.addHref(&quot;Surf Sales Automation&quot;, &quot;switchView('section','sales_opportunity','SSAOpportunity')&quot;, &quot;images/s.gifx&quot;);
            
               
               
                  
	       cmViews.addHref(&quot;Value Selling&quot;, &quot;switchView('section','sales_opportunity','value_selling')&quot;, &quot;images/s.gifx&quot;);
	       views_sa.addHref(&quot;Value Selling&quot;, &quot;switchView('section','sales_opportunity','value_selling')&quot;, &quot;images/s.gifx&quot;);
            
	    gcm.addMenu('View', cmViews);gcm.addLine();
		
		  
		  
		    gcm.addHref(&quot;Copy URL&quot;, &quot;copyToClipboard('https://surfqa5.service-now.com/nav_to.do?uri=sales_opportunity.do?sys_id=9f372635db9c1bc01143fd7aae961983');&quot;);
		  

		gcm.addHref(&quot;Copy sys_id&quot;, &quot;copyToClipboard('9f372635db9c1bc01143fd7aae961983');&quot;);
			gcm.addHref(&quot;Show XML&quot;, &quot;xmlView('sales_opportunity', '9f372635db9c1bc01143fd7aae961983');&quot;);gcm.addURL(&quot;History&quot;, &quot;history.do?sysparm_sys_id=9f372635db9c1bc01143fd7aae961983&amp;sysparm_table=sales_opportunity&amp;sysparm_view=&amp;sysparm_nostack=true&quot;);gcm.addHref(&quot;Reload form&quot;, &quot;reloadWindow(window);&quot;);g_related_list_timing = 'ondemand';The End Of No, The Beginning of Now!© 2014 ServiceNow. All rights reservedLoad Related ListsLoading related listsResponse time(ms)
         Response time(ms): 15898, Network: 3, server: 4076, browser: 11819Toggle browser timing details  </value>
   </webElementProperties>
   <webElementProperties>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>xpath</name>
      <type>Main</type>
      <value>id(&quot;sales_opportunity.form_scroll&quot;)</value>
   </webElementProperties>
   <webElementProperties>
      <isSelected>true</isSelected>
      <matchCondition>equals</matchCondition>
      <name>ref_element</name>
      <type>Main</type>
      <value>Object Repository/Page_QA_Instanceom_16  ServiceNow T/iframe_gsft_main</value>
   </webElementProperties>
</WebElementEntity>
